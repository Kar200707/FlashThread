import{$ as ot,Aa as qt,B as Ht,Ba as ct,Ca as sr,D as Zn,Da as Re,Ea as ut,Fa as C,Ha as pe,I as $s,Ia as K,J as Hs,Ja as me,K as zs,Ka as lt,La as Yt,M as Gs,Ma as Ge,N as st,Na as rr,O as zt,Oa as or,P as D,Pa as Qn,Q as b,Qa as ee,R as N,Ra as q,Sa as ce,Ta as Jn,U as k,Ua as Ce,V as p,Va as ei,W as J,Wa as ti,X as rt,Xa as Zt,Y as ne,Ya as ar,Z as x,Za as We,_ as j,a as O,aa as Ws,ab as Se,b as ae,ba as Xn,bb as cr,c as Qa,cb as ni,d as Rs,da as Ks,db as ii,eb as si,f as it,ga as Gt,ha as qs,i as Ns,ia as Wt,ja as Ys,jb as ri,ka as we,kb as ur,l as Yn,la as Kt,m as Ee,ma as at,n as xs,na as Zs,oa as He,pa as ke,q as V,qa as ze,r as Ps,ra as Xs,sa as Qs,t as Ls,ta as Js,ua as er,v as $t,va as tr,w as Bs,wa as nr,x as Vs,xa as ir,y as js,ya as W,z as Us,za as z}from"./chunk-6GZF26DS.js";var Xt=(()=>{let e=class e{onResize(){this.element.nativeElement.style.height=innerHeight-95+"px"}constructor(t){this.element=t,this.element.nativeElement.style.height=innerHeight-95+"px"}};e.\u0275fac=function(s){return new(s||e)(C(z))},e.\u0275dir=j({type:e,selectors:[["","appResizeHeight",""]],hostBindings:function(s,r){s&1&&Ce("resize",function(){return r.onResize()},!1,Zs)},standalone:!0});let i=e;return i})();var lr=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=ne({type:e,selectors:[["app-chat-lists"]],standalone:!0,features:[Se],decls:44,vars:0,consts:[["appResizeHeight","",1,"main-div"],[1,"list"],[1,"list",2,"margin-top","10px"]],template:function(s,r){s&1&&(ee(0,"div",0),ce(1,"div",1)(2,"div",2)(3,"div",2)(4,"div",2)(5,"div",2)(6,"div",2)(7,"div",2)(8,"div",2)(9,"div",2)(10,"div",2)(11,"div",2)(12,"div",2)(13,"div",2)(14,"div",2)(15,"div",2)(16,"div",2)(17,"div",2)(18,"div",2)(19,"div",2)(20,"div",2)(21,"div",2)(22,"div",2)(23,"div",2)(24,"div",2)(25,"div",2)(26,"div",2)(27,"div",2)(28,"div",2)(29,"div",2)(30,"div",2)(31,"div",2)(32,"div",2)(33,"div",2)(34,"div",2)(35,"div",2)(36,"div",2)(37,"div",2)(38,"div",2)(39,"div",2)(40,"div",2)(41,"div",2)(42,"div",2)(43,"div",2),q())},dependencies:[Xt],styles:[".main-div[_ngcontent-%COMP%]{height:100vh;background-image:linear-gradient(to left,var(--main-color1),var(--main-color2));padding:40px 15px 0 20px;overflow-y:scroll}.list[_ngcontent-%COMP%]{width:100%;height:70px;background-color:#232323;border-radius:10px}"]});let i=e;return i})();var oi=null;function ge(){return oi}function gr(i){oi||(oi=i)}var Qt=class{},F=new k("DocumentToken"),yr=(()=>{let e=class e{historyGo(t){throw new Error("Not implemented")}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=b({token:e,factory:()=>(()=>J(tc))(),providedIn:"platform"});let i=e;return i})();var tc=(()=>{let e=class e extends yr{constructor(){super(),this._doc=J(F),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ge().getBaseHref(this._doc)}onPopState(t){let s=ge().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",t,!1),()=>s.removeEventListener("popstate",t)}onHashChange(t){let s=ge().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",t,!1),()=>s.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,s,r){this._history.pushState(t,s,r)}replaceState(t,s,r){this._history.replaceState(t,s,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=b({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let i=e;return i})();function _r(i,e){if(i.length==0)return e;if(e.length==0)return i;let n=0;return i.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?i+e.substring(1):n==1?i+e:i+"/"+e}function dr(i){let e=i.match(/#|\?|$/),n=e&&e.index||i.length,t=n-(i[n-1]==="/"?1:0);return i.slice(0,t)+i.slice(n)}function Ne(i){return i&&i[0]!=="?"?"?"+i:i}var li=(()=>{let e=class e{historyGo(t){throw new Error("Not implemented")}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=b({token:e,factory:()=>(()=>J(ic))(),providedIn:"root"});let i=e;return i})(),nc=new k("appBaseHref"),ic=(()=>{let e=class e extends li{constructor(t,s){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??J(F).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return _r(this._baseHref,t)}path(t=!1){let s=this._platformLocation.pathname+Ne(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${s}${r}`:s}pushState(t,s,r,o){let a=this.prepareExternalUrl(r+Ne(o));this._platformLocation.pushState(t,s,a)}replaceState(t,s,r,o){let a=this.prepareExternalUrl(r+Ne(o));this._platformLocation.replaceState(t,s,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}};e.\u0275fac=function(s){return new(s||e)(p(yr),p(nc,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var sc=(()=>{let e=class e{constructor(t){this._subject=new pe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let s=this._locationStrategy.getBaseHref();this._basePath=ac(dr(hr(s))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,s=""){return this.path()==this.normalize(t+Ne(s))}normalize(t){return e.stripTrailingSlash(oc(this._basePath,hr(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,s="",r=null){this._locationStrategy.pushState(r,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ne(s)),r)}replaceState(t,s="",r=null){this._locationStrategy.replaceState(r,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ne(s)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)})),()=>{let s=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(s,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",s){this._urlChangeListeners.forEach(r=>r(t,s))}subscribe(t,s,r){return this._subject.subscribe({next:t,error:s,complete:r})}};e.normalizeQueryParams=Ne,e.joinWithSlash=_r,e.stripTrailingSlash=dr,e.\u0275fac=function(s){return new(s||e)(p(li))},e.\u0275prov=b({token:e,factory:()=>rc(),providedIn:"root"});let i=e;return i})();function rc(){return new sc(p(li))}function oc(i,e){if(!i||!e.startsWith(i))return e;let n=e.substring(i.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function hr(i){return i.replace(/\/index.html$/,"")}function ac(i){if(new RegExp("^(https?:)?//").test(i)){let[,n]=i.split(/\/\/[^\/]+/);return n}return i}function vr(i,e){e=encodeURIComponent(e);for(let n of i.split(";")){let t=n.indexOf("="),[s,r]=t==-1?[n,""]:[n.slice(0,t),n.slice(t+1)];if(s.trim()===e)return decodeURIComponent(r)}return null}var ai=class{constructor(e,n,t,s){this.$implicit=e,this.ngForOf=n,this.index=t,this.count=s}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Dr=(()=>{let e=class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,s,r){this._viewContainer=t,this._template=s,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(!1)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let s=this._viewContainer;t.forEachOperation((r,o,a)=>{if(r.previousIndex==null)s.createEmbeddedView(this._template,new ai(r.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)s.remove(o===null?void 0:o);else if(o!==null){let c=s.get(o);s.move(c,a),fr(c,r)}});for(let r=0,o=s.length;r<o;r++){let c=s.get(r).context;c.index=r,c.count=o,c.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=s.get(r.currentIndex);fr(o,r)})}static ngTemplateContextGuard(t,s){return!0}};e.\u0275fac=function(s){return new(s||e)(C(or),C(cr),C(sr))},e.\u0275dir=j({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let i=e;return i})();function fr(i,e){i.context.$implicit=e.item}var cc=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=x({type:e}),e.\u0275inj=N({});let i=e;return i})(),di="browser",uc="server";function br(i){return i===di}function hi(i){return i===uc}var Jt=class{};var fi;try{fi=typeof Intl<"u"&&Intl.v8BreakIterator}catch{fi=!1}var ht=(()=>{let e=class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?br(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||fi)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(s){return new(s||e)(p(we))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var dt;function lc(){if(dt==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>dt=!0}))}finally{dt=dt||!1}return dt}function pi(i){return lc()?i:!!i.capture}function Er(i){return i.composedPath?i.composedPath()[0]:i.target}function wr(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function mi(i){return i!=null&&`${i}`!="false"}function gi(i){return Array.isArray(i)?i:[i]}function yi(i){return i instanceof z?i.nativeElement:i}var Sr=new Set,xe,dc=(()=>{let e=class e{constructor(t,s){this._platform=t,this._nonce=s,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):fc}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&hc(t,this._nonce),this._matchMedia(t)}};e.\u0275fac=function(s){return new(s||e)(p(ht),p(at,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function hc(i,e){if(!Sr.has(i))try{xe||(xe=document.createElement("style"),e&&(xe.nonce=e),xe.setAttribute("type","text/css"),document.head.appendChild(xe)),xe.sheet&&(xe.sheet.insertRule(`@media ${i} {body{ }}`,0),Sr.add(i))}catch(n){console.error(n)}}function fc(i){return{matches:i==="all"||i==="",media:i,addListener:()=>{},removeListener:()=>{}}}var Tr=(()=>{let e=class e{constructor(t,s){this._mediaMatcher=t,this._zone=s,this._queries=new Map,this._destroySubject=new Ns}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Ar(gi(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let r=Ar(gi(t)).map(a=>this._registerQuery(a).observable),o=Ps(r);return o=Ls(o.pipe(Ht(1)),o.pipe(Hs(1),Us(0))),o.pipe(V(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:u,query:l})=>{c.matches=c.matches||u,c.breakpoints[l]=u}),c}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let s=this._mediaMatcher.matchMedia(t),o={observable:new it(a=>{let c=u=>this._zone.run(()=>a.next(u));return s.addListener(c),()=>{s.removeListener(c)}}).pipe(zs(s),V(({matches:a})=>({query:t,matches:a})),Gs(this._destroySubject)),mql:s};return this._queries.set(t,o),o}};e.\u0275fac=function(s){return new(s||e)(p(dc),p(K))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Ar(i){return i.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}function Mr(i){return i.buttons===0||i.detail===0}function Or(i){let e=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var Fr="cdk-high-contrast-black-on-white",Ir="cdk-high-contrast-white-on-black",_i="cdk-high-contrast-active",kr=(()=>{let e=class e{constructor(t,s){this._platform=t,this._document=s,this._breakpointSubscription=J(Tr).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let s=this._document.defaultView||window,r=s&&s.getComputedStyle?s.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(_i,Fr,Ir),this._hasCheckedHighContrastMode=!0;let s=this.getHighContrastMode();s===1?t.add(_i,Fr):s===2&&t.add(_i,Ir)}}};e.\u0275fac=function(s){return new(s||e)(p(ht),p(F))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var vi=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=x({type:e}),e.\u0275inj=N({});let i=e;return i})();var bi=class{};var Ke=class i{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let t=n.indexOf(":");if(t>0){let s=n.slice(0,t),r=s.toLowerCase(),o=n.slice(t+1).trim();this.maybeSetNormalizedName(s,r),this.headers.has(r)?this.headers.get(r).push(o):this.headers.set(r,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,t)=>{this.setHeaderEntries(t,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,t])=>{this.setHeaderEntries(n,t)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new i;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let t=e.value;if(typeof t=="string"&&(t=[t]),t.length===0)return;this.maybeSetNormalizedName(e.name,n);let s=(e.op==="a"?this.headers.get(n):void 0)||[];s.push(...t),this.headers.set(n,s);break;case"d":let r=e.value;if(!r)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>r.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let t=(Array.isArray(n)?n:[n]).map(r=>r.toString()),s=e.toLowerCase();this.headers.set(s,t),this.maybeSetNormalizedName(e,s)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Ei=class{encodeKey(e){return Rr(e)}encodeValue(e){return Rr(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function mc(i,e){let n=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(s=>{let r=s.indexOf("="),[o,a]=r==-1?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,r)),e.decodeValue(s.slice(r+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var gc=/%(\d[a-f0-9])/gi,yc={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Rr(i){return encodeURIComponent(i).replace(gc,(e,n)=>yc[n]??e)}function en(i){return`${i}`}var Ae=class i{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ei,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=mc(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let t=e.fromObject[n],s=Array.isArray(t)?t.map(en):[en(t)];this.map.set(n,s)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(t=>{let s=e[t];Array.isArray(s)?s.forEach(r=>{n.push({param:t,value:r,op:"a"})}):n.push({param:t,value:s,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(t=>n+"="+this.encoder.encodeValue(t)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new i({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(en(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let t=this.map.get(e.param)||[],s=t.indexOf(en(e.value));s!==-1&&t.splice(s,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var wi=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function _c(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Nr(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function xr(i){return typeof Blob<"u"&&i instanceof Blob}function Pr(i){return typeof FormData<"u"&&i instanceof FormData}function vc(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var ft=class i{constructor(e,n,t,s){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let r;if(_c(this.method)||s?(this.body=t!==void 0?t:null,r=s):r=t,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers||(this.headers=new Ke),this.context||(this.context=new wi),!this.params)this.params=new Ae,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:Nr(this.body)||xr(this.body)||Pr(this.body)||vc(this.body)||typeof this.body=="string"?this.body:this.body instanceof Ae?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Pr(this.body)?null:xr(this.body)?this.body.type||null:Nr(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ae?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,t=e.url||this.url,s=e.responseType||this.responseType,r=e.body!==void 0?e.body:this.body,o=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,l=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,m)=>d.set(m,e.setHeaders[m]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((d,m)=>d.set(m,e.setParams[m]),u)),new i(n,t,r,{params:u,headers:c,context:l,reportProgress:a,responseType:s,withCredentials:o})}},Lr=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(Lr||{}),Ci=class{constructor(e,n=200,t="OK"){this.headers=e.headers||new Ke,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||t,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var Si=class i extends Ci{constructor(e={}){super(e),this.type=Lr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new i({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};function Di(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var Br=(()=>{let e=class e{constructor(t){this.handler=t}request(t,s,r={}){let o;if(t instanceof ft)o=t;else{let u;r.headers instanceof Ke?u=r.headers:u=new Ke(r.headers);let l;r.params&&(r.params instanceof Ae?l=r.params:l=new Ae({fromObject:r.params})),o=new ft(t,s,r.body!==void 0?r.body:null,{headers:u,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let a=Ee(o).pipe(js(u=>this.handler.handle(u)));if(t instanceof ft||r.observe==="events")return a;let c=a.pipe(Bs(u=>u instanceof Si));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(V(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(V(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(V(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(V(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,s={}){return this.request("DELETE",t,s)}get(t,s={}){return this.request("GET",t,s)}head(t,s={}){return this.request("HEAD",t,s)}jsonp(t,s){return this.request("JSONP",t,{params:new Ae().append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,s={}){return this.request("OPTIONS",t,s)}patch(t,s,r={}){return this.request("PATCH",t,Di(r,s))}post(t,s,r={}){return this.request("POST",t,Di(r,s))}put(t,s,r={}){return this.request("PUT",t,Di(r,s))}};e.\u0275fac=function(s){return new(s||e)(p(bi))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let i=e;return i})();var Fi=class extends Qt{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ii=class i extends Fi{static makeCurrent(){gr(new i)}onAndCancel(e,n,t){return e.addEventListener(n,t),()=>{e.removeEventListener(n,t)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=wc();return n==null?null:Cc(n)}resetBaseElement(){pt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return vr(document.cookie,e)}},pt=null;function wc(){return pt=pt||document.querySelector("base"),pt?pt.getAttribute("href"):null}function Cc(i){return new URL(i,document.baseURI).pathname}var Sc=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac});let i=e;return i})(),Mi=new k("EventManagerPlugins"),Ur=(()=>{let e=class e{constructor(t,s){this._zone=s,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,s,r){return this._findPluginFor(s).addEventListener(t,s,r)}getZone(){return this._zone}_findPluginFor(t){let s=this._eventNameToPlugin.get(t);if(s)return s;if(s=this._plugins.find(o=>o.supports(t)),!s)throw new D(5101,!1);return this._eventNameToPlugin.set(t,s),s}};e.\u0275fac=function(s){return new(s||e)(p(Mi),p(K))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let i=e;return i})(),tn=class{constructor(e){this._doc=e}},Ai="ng-app-id",$r=(()=>{let e=class e{constructor(t,s,r,o={}){this.doc=t,this.appId=s,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=hi(o),this.resetHostNodes()}addStyles(t){for(let s of t)this.changeUsageCount(s,1)===1&&this.onStyleAdded(s)}removeStyles(t){for(let s of t)this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(s=>s.remove()),t.clear());for(let s of this.getAllStyles())this.onStyleRemoved(s);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let s of this.getAllStyles())this.addStyleToHost(t,s)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let s of this.hostNodes)this.addStyleToHost(s,t)}onStyleRemoved(t){let s=this.styleRef;s.get(t)?.elements?.forEach(r=>r.remove()),s.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Ai}="${this.appId}"]`);if(t?.length){let s=new Map;return t.forEach(r=>{r.textContent!=null&&s.set(r.textContent,r)}),s}return null}changeUsageCount(t,s){let r=this.styleRef;if(r.has(t)){let o=r.get(t);return o.usage+=s,o.usage}return r.set(t,{usage:s,elements:[]}),s}getStyleElement(t,s){let r=this.styleNodesInDOM,o=r?.get(s);if(o?.parentNode===t)return r.delete(s),o.removeAttribute(Ai),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=s,this.platformIsServer&&a.setAttribute(Ai,this.appId),t.appendChild(a),a}}addStyleToHost(t,s){let r=this.getStyleElement(t,s),o=this.styleRef,a=o.get(s)?.elements;a?a.push(r):o.set(s,{elements:[r],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}};e.\u0275fac=function(s){return new(s||e)(p(F),p(Wt),p(at,8),p(we))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let i=e;return i})(),Ti={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ki=/%COMP%/g,Hr="%COMP%",Ac=`_nghost-${Hr}`,Tc=`_ngcontent-${Hr}`,Fc=!0,Ic=new k("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>Fc});function Mc(i){return Tc.replace(ki,i)}function Oc(i){return Ac.replace(ki,i)}function zr(i,e){return e.map(n=>n.replace(ki,i))}var nn=(()=>{let e=class e{constructor(t,s,r,o,a,c,u,l=null){this.eventManager=t,this.sharedStylesHost=s,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=hi(c),this.defaultRenderer=new mt(t,a,u,this.platformIsServer)}createRenderer(t,s){if(!t||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===rt.ShadowDom&&(s=ae(O({},s),{encapsulation:rt.Emulated}));let r=this.getOrCreateRenderer(t,s);return r instanceof sn?r.applyToHost(t):r instanceof gt&&r.applyStyles(),r}getOrCreateRenderer(t,s){let r=this.rendererByCompId,o=r.get(s.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(s.encapsulation){case rt.Emulated:o=new sn(u,l,s,this.appId,d,a,c,m);break;case rt.ShadowDom:return new Oi(u,l,t,s,a,c,this.nonce,m);default:o=new gt(u,l,s,d,a,c,m);break}r.set(s.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(s){return new(s||e)(p(Ur),p($r),p(Wt),p(Ic),p(F),p(we),p(K),p(at))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let i=e;return i})(),mt=class{constructor(e,n,t,s){this.eventManager=e,this.doc=n,this.ngZone=t,this.platformIsServer=s,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Ti[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Vr(e)?e.content:e).appendChild(n)}insertBefore(e,n,t){e&&(Vr(e)?e.content:e).insertBefore(n,t)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let t=typeof e=="string"?this.doc.querySelector(e):e;if(!t)throw new D(-5104,!1);return n||(t.textContent=""),t}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,t,s){if(s){n=s+":"+n;let r=Ti[s];r?e.setAttributeNS(r,n,t):e.setAttribute(n,t)}else e.setAttribute(n,t)}removeAttribute(e,n,t){if(t){let s=Ti[t];s?e.removeAttributeNS(s,n):e.removeAttribute(`${t}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,t,s){s&(He.DashCase|He.Important)?e.style.setProperty(n,t,s&He.Important?"important":""):e.style[n]=t}removeStyle(e,n,t){t&He.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,t){e!=null&&(e[n]=t)}setValue(e,n){e.nodeValue=n}listen(e,n,t){if(typeof e=="string"&&(e=ge().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(t))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Vr(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var Oi=class extends mt{constructor(e,n,t,s,r,o,a,c){super(e,r,o,c),this.sharedStylesHost=n,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=zr(s.id,s.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,t){return super.insertBefore(this.nodeOrShadowRoot(e),n,t)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},gt=class extends mt{constructor(e,n,t,s,r,o,a,c){super(e,r,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=s,this.styles=c?zr(c,t.styles):t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},sn=class extends gt{constructor(e,n,t,s,r,o,a,c){let u=s+"-"+t.id;super(e,n,t,r,o,a,c,u),this.contentAttr=Mc(u),this.hostAttr=Oc(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let t=super.createElement(e,n);return super.setAttribute(t,this.contentAttr,""),t}},kc=(()=>{let e=class e extends tn{constructor(t){super(t)}supports(t){return!0}addEventListener(t,s,r){return t.addEventListener(s,r,!1),()=>this.removeEventListener(t,s,r)}removeEventListener(t,s,r){return t.removeEventListener(s,r)}};e.\u0275fac=function(s){return new(s||e)(p(F))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let i=e;return i})(),jr=["alt","control","meta","shift"],Rc={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nc={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},xc=(()=>{let e=class e extends tn{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,s,r){let o=e.parseEventName(s),a=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ge().onAndCancel(t,o.domEventName,a))}static parseEventName(t){let s=t.toLowerCase().split("."),r=s.shift();if(s.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(s.pop()),a="",c=s.indexOf("code");if(c>-1&&(s.splice(c,1),a="code."),jr.forEach(l=>{let d=s.indexOf(l);d>-1&&(s.splice(d,1),a+=l+".")}),a+=o,s.length!=0||o.length===0)return null;let u={};return u.domEventName=r,u.fullKey=a,u}static matchEventFullKeyCode(t,s){let r=Rc[t.key]||t.key,o="";return s.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),jr.forEach(a=>{if(a!==r){let c=Nc[a];c(t)&&(o+=a+".")}}),o+=r,o===s)}static eventCallback(t,s,r){return o=>{e.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>s(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}};e.\u0275fac=function(s){return new(s||e)(p(F))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let i=e;return i})();function Ff(i,e){return ur(O({rootComponent:i},Pc(e)))}function Pc(i){return{appProviders:[...Uc,...i?.providers??[]],platformProviders:jc}}function Lc(){Ii.makeCurrent()}function Bc(){return new Re}function Vc(){return qs(document),document}var jc=[{provide:we,useValue:di},{provide:Ys,useValue:Lc,multi:!0},{provide:F,useFactory:Vc,deps:[]}];var Uc=[{provide:Ks,useValue:"root"},{provide:Re,useFactory:Bc,deps:[]},{provide:Mi,useClass:kc,multi:!0,deps:[F,K,we]},{provide:Mi,useClass:xc,multi:!0,deps:[F]},nn,$r,Ur,{provide:qt,useExisting:nn},{provide:Jt,useClass:Sc,deps:[]},[]];function $c(){return new Hc(p(F))}var Hc=(()=>{let e=class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}};e.\u0275fac=function(s){return new(s||e)(p(F))},e.\u0275prov=b({token:e,factory:function(s){let r=null;return s?r=new s:r=$c(),r},providedIn:"root"});let i=e;return i})();var Ri=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=b({token:e,factory:function(s){let r=null;return s?r=new(s||e):r=p(Gr),r},providedIn:"root"});let i=e;return i})();function zc(i){return new Gr(i.get(F))}var Gr=(()=>{let e=class e extends Ri{constructor(t){super(),this._doc=t}sanitize(t,s){if(s==null)return null;switch(t){case W.NONE:return s;case W.HTML:return ze(s,"HTML")?ke(s):ir(this._doc,String(s)).toString();case W.STYLE:return ze(s,"Style")?ke(s):s;case W.SCRIPT:if(ze(s,"Script"))return ke(s);throw new D(5200,!1);case W.URL:return ze(s,"URL")?ke(s):nr(String(s));case W.RESOURCE_URL:if(ze(s,"ResourceURL"))return ke(s);throw new D(5201,!1);default:throw new D(5202,!1)}}bypassSecurityTrustHtml(t){return Xs(t)}bypassSecurityTrustStyle(t){return Qs(t)}bypassSecurityTrustScript(t){return Js(t)}bypassSecurityTrustUrl(t){return er(t)}bypassSecurityTrustResourceUrl(t){return tr(t)}};e.\u0275fac=function(s){return new(s||e)(p(F))},e.\u0275prov=b({token:e,factory:function(s){let r=null;return s?r=new s:r=zc(p(Gt)),r},providedIn:"root"});let i=e;return i})();var ue="*";function Wr(i,e=null){return{type:2,steps:i,options:e}}function Ni(i){return{type:6,styles:i,offset:null}}var Te=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(t=>t()),n.length=0}},yt=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,t=0,s=0,r=this.players.length;r==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==r&&this._onFinish()}),o.onDestroy(()=>{++t==r&&this._onDestroy()}),o.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(t=>{let s=t.totalTime?Math.min(1,n/t.totalTime):1;t.setPosition(s)})}getPosition(){let e=this.players.reduce((n,t)=>n===null||t.totalTime>n.totalTime?t:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(t=>t()),n.length=0}},rn="!";function Kr(i){return new D(3e3,!1)}function Wc(){return new D(3100,!1)}function Kc(){return new D(3101,!1)}function qc(i){return new D(3001,!1)}function Yc(i){return new D(3003,!1)}function Zc(i){return new D(3004,!1)}function Xc(i,e){return new D(3005,!1)}function Qc(){return new D(3006,!1)}function Jc(){return new D(3007,!1)}function eu(i,e){return new D(3008,!1)}function tu(i){return new D(3002,!1)}function nu(i,e,n,t,s){return new D(3010,!1)}function iu(){return new D(3011,!1)}function su(){return new D(3012,!1)}function ru(){return new D(3200,!1)}function ou(){return new D(3202,!1)}function au(){return new D(3013,!1)}function cu(i){return new D(3014,!1)}function uu(i){return new D(3015,!1)}function lu(i){return new D(3016,!1)}function du(i,e){return new D(3404,!1)}function hu(i){return new D(3502,!1)}function fu(i){return new D(3503,!1)}function pu(){return new D(3300,!1)}function mu(i){return new D(3504,!1)}function gu(i){return new D(3301,!1)}function yu(i,e){return new D(3302,!1)}function _u(i){return new D(3303,!1)}function vu(i,e){return new D(3400,!1)}function Du(i){return new D(3401,!1)}function bu(i){return new D(3402,!1)}function Eu(i,e){return new D(3505,!1)}function Fe(i){switch(i.length){case 0:return new Te;case 1:return i[0];default:return new yt(i)}}function ao(i,e,n=new Map,t=new Map){let s=[],r=[],o=-1,a=null;if(e.forEach(c=>{let u=c.get("offset"),l=u==o,d=l&&a||new Map;c.forEach((m,_)=>{let f=_,g=m;if(_!=="offset")switch(f=i.normalizePropertyName(f,s),g){case rn:g=n.get(_);break;case ue:g=t.get(_);break;default:g=i.normalizeStyleValue(_,f,g,s);break}d.set(f,g)}),l||r.push(d),a=d,o=u}),s.length)throw hu(s);return r}function ns(i,e,n,t){switch(e){case"start":i.onStart(()=>t(n&&xi(n,"start",i)));break;case"done":i.onDone(()=>t(n&&xi(n,"done",i)));break;case"destroy":i.onDestroy(()=>t(n&&xi(n,"destroy",i)));break}}function xi(i,e,n){let t=n.totalTime,s=!!n.disabled,r=is(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,t??i.totalTime,s),o=i._data;return o!=null&&(r._data=o),r}function is(i,e,n,t,s="",r=0,o){return{element:i,triggerName:e,fromState:n,toState:t,phaseName:s,totalTime:r,disabled:!!o}}function Z(i,e,n){let t=i.get(e);return t||i.set(e,t=n),t}function qr(i){let e=i.indexOf(":"),n=i.substring(1,e),t=i.slice(e+1);return[n,t]}var wu=(()=>typeof document>"u"?null:document.documentElement)();function ss(i){let e=i.parentNode||i.host||null;return e===wu?null:e}function Cu(i){return i.substring(1,6)=="ebkit"}var Pe=null,Yr=!1;function Su(i){Pe||(Pe=Au()||{},Yr=Pe.style?"WebkitAppearance"in Pe.style:!1);let e=!0;return Pe.style&&!Cu(i)&&(e=i in Pe.style,!e&&Yr&&(e="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in Pe.style)),e}function Au(){return typeof document<"u"?document.body:null}function co(i,e){for(;e;){if(e===i)return!0;e=ss(e)}return!1}function uo(i,e,n){if(n)return Array.from(i.querySelectorAll(e));let t=i.querySelector(e);return t?[t]:[]}var rs=(()=>{let e=class e{validateStyleProperty(t){return Su(t)}matchesElement(t,s){return!1}containsElement(t,s){return co(t,s)}getParentElement(t){return ss(t)}query(t,s,r){return uo(t,s,r)}computeStyle(t,s,r){return r||""}animate(t,s,r,o,a,c=[],u){return new Te(r,o)}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac});let i=e;return i})(),Ct=(()=>{let e=class e{};e.NOOP=new rs;let i=e;return i})(),Ve=class{};var Tu=1e3,lo="{{",Fu="}}",ho="ng-enter",Ui="ng-leave",on="ng-trigger",dn=".ng-trigger",Zr="ng-animating",$i=".ng-animating";function ye(i){if(typeof i=="number")return i;let e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Hi(parseFloat(e[1]),e[2])}function Hi(i,e){switch(e){case"s":return i*Tu;default:return i}}function hn(i,e,n){return i.hasOwnProperty("duration")?i:Iu(i,e,n)}function Iu(i,e,n){let t=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,s,r=0,o="";if(typeof i=="string"){let a=i.match(t);if(a===null)return e.push(Kr(i)),{duration:0,delay:0,easing:""};s=Hi(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(r=Hi(parseFloat(c),a[4]));let u=a[5];u&&(o=u)}else s=i;if(!n){let a=!1,c=e.length;s<0&&(e.push(Wc()),a=!0),r<0&&(e.push(Kc()),a=!0),a&&e.splice(c,0,Kr(i))}return{duration:s,delay:r,easing:o}}function St(i,e={}){return Object.keys(i).forEach(n=>{e[n]=i[n]}),e}function fo(i){let e=new Map;return Object.keys(i).forEach(n=>{let t=i[n];e.set(n,t)}),e}function Mu(i){return i.length?i[0]instanceof Map?i:i.map(e=>fo(e)):[]}function Ye(i,e=new Map,n){if(n)for(let[t,s]of n)e.set(t,s);for(let[t,s]of i)e.set(t,s);return e}function le(i,e,n){e.forEach((t,s)=>{let r=os(s);n&&!n.has(s)&&n.set(s,i.style[r]),i.style[r]=t})}function Be(i,e){e.forEach((n,t)=>{let s=os(t);i.style[s]=""})}function _t(i){return Array.isArray(i)?i.length==1?i[0]:Wr(i):i}function Ou(i,e,n){let t=e.params||{},s=po(i);s.length&&s.forEach(r=>{t.hasOwnProperty(r)||n.push(qc(r))})}var zi=new RegExp(`${lo}\\s*(.+?)\\s*${Fu}`,"g");function po(i){let e=[];if(typeof i=="string"){let n;for(;n=zi.exec(i);)e.push(n[1]);zi.lastIndex=0}return e}function Dt(i,e,n){let t=i.toString(),s=t.replace(zi,(r,o)=>{let a=e[o];return a==null&&(n.push(Yc(o)),a=""),a.toString()});return s==t?i:s}function fn(i){let e=[],n=i.next();for(;!n.done;)e.push(n.value),n=i.next();return e}var ku=/-+([a-z0-9])/g;function os(i){return i.replace(ku,(...e)=>e[1].toUpperCase())}function Ru(i,e){return i===0||e===0}function Nu(i,e,n){if(n.size&&e.length){let t=e[0],s=[];if(n.forEach((r,o)=>{t.has(o)||s.push(o),t.set(o,r)}),s.length)for(let r=1;r<e.length;r++){let o=e[r];s.forEach(a=>o.set(a,mo(i,a)))}}return e}function Y(i,e,n){switch(e.type){case 7:return i.visitTrigger(e,n);case 0:return i.visitState(e,n);case 1:return i.visitTransition(e,n);case 2:return i.visitSequence(e,n);case 3:return i.visitGroup(e,n);case 4:return i.visitAnimate(e,n);case 5:return i.visitKeyframes(e,n);case 6:return i.visitStyle(e,n);case 8:return i.visitReference(e,n);case 9:return i.visitAnimateChild(e,n);case 10:return i.visitAnimateRef(e,n);case 11:return i.visitQuery(e,n);case 12:return i.visitStagger(e,n);default:throw Zc(e.type)}}function mo(i,e){return window.getComputedStyle(i)[e]}var xu=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),pn=class extends Ve{normalizePropertyName(e,n){return os(e)}normalizeStyleValue(e,n,t,s){let r="",o=t.toString().trim();if(xu.has(n)&&t!==0&&t!=="0")if(typeof t=="number")r="px";else{let a=t.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&s.push(Xc(e,t))}return o+r}};var mn="*";function Pu(i,e){let n=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(t=>Lu(t,n,e)):n.push(i),n}function Lu(i,e,n){if(i[0]==":"){let c=Bu(i,n);if(typeof c=="function"){e.push(c);return}i=c}let t=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(t==null||t.length<4)return n.push(uu(i)),e;let s=t[1],r=t[2],o=t[3];e.push(Xr(s,o));let a=s==mn&&o==mn;r[0]=="<"&&!a&&e.push(Xr(o,s))}function Bu(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,t)=>parseFloat(t)>parseFloat(n);case":decrement":return(n,t)=>parseFloat(t)<parseFloat(n);default:return e.push(lu(i)),"* => *"}}var an=new Set(["true","1"]),cn=new Set(["false","0"]);function Xr(i,e){let n=an.has(i)||cn.has(i),t=an.has(e)||cn.has(e);return(s,r)=>{let o=i==mn||i==s,a=e==mn||e==r;return!o&&n&&typeof s=="boolean"&&(o=s?an.has(i):cn.has(i)),!a&&t&&typeof r=="boolean"&&(a=r?an.has(e):cn.has(e)),o&&a}}var go=":self",Vu=new RegExp(`s*${go}s*,?`,"g");function yo(i,e,n,t){return new Gi(i).build(e,n,t)}var Qr="",Gi=class{constructor(e){this._driver=e}build(e,n,t){let s=new Wi(n);return this._resetContextStyleTimingState(s),Y(this,_t(e),s)}_resetContextStyleTimingState(e){e.currentQuerySelector=Qr,e.collectedStyles=new Map,e.collectedStyles.set(Qr,new Map),e.currentTime=0}visitTrigger(e,n){let t=n.queryCount=0,s=n.depCount=0,r=[],o=[];return e.name.charAt(0)=="@"&&n.errors.push(Qc()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==0){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(l=>{c.name=l,r.push(this.visitState(c,n))}),c.name=u}else if(a.type==1){let c=this.visitTransition(a,n);t+=c.queryCount,s+=c.depCount,o.push(c)}else n.errors.push(Jc())}),{type:7,name:e.name,states:r,transitions:o,queryCount:t,depCount:s,options:null}}visitState(e,n){let t=this.visitStyle(e.styles,n),s=e.options&&e.options.params||null;if(t.containsDynamicStyles){let r=new Set,o=s||{};if(t.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{po(c).forEach(u=>{o.hasOwnProperty(u)||r.add(u)})})}),r.size){let a=fn(r.values());n.errors.push(eu(e.name,a))}}return{type:0,name:e.name,style:t,options:s?{params:s}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let t=Y(this,_t(e.animation),n);return{type:1,matchers:Pu(e.expr,n.errors),animation:t,queryCount:n.queryCount,depCount:n.depCount,options:Le(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(t=>Y(this,t,n)),options:Le(e.options)}}visitGroup(e,n){let t=n.currentTime,s=0,r=e.steps.map(o=>{n.currentTime=t;let a=Y(this,o,n);return s=Math.max(s,n.currentTime),a});return n.currentTime=s,{type:3,steps:r,options:Le(e.options)}}visitAnimate(e,n){let t=Hu(e.timings,n.errors);n.currentAnimateTimings=t;let s,r=e.styles?e.styles:Ni({});if(r.type==5)s=this.visitKeyframes(r,n);else{let o=e.styles,a=!1;if(!o){a=!0;let u={};t.easing&&(u.easing=t.easing),o=Ni(u)}n.currentTime+=t.duration+t.delay;let c=this.visitStyle(o,n);c.isEmptyStep=a,s=c}return n.currentAnimateTimings=null,{type:4,timings:t,style:s,options:null}}visitStyle(e,n){let t=this._makeStyleAst(e,n);return this._validateStyleAst(t,n),t}_makeStyleAst(e,n){let t=[],s=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of s)typeof a=="string"?a===ue?t.push(a):n.errors.push(tu(a)):t.push(fo(a));let r=!1,o=null;return t.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!r)){for(let c of a.values())if(c.toString().indexOf(lo)>=0){r=!0;break}}}),{type:6,styles:t,easing:o,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,n){let t=n.currentAnimateTimings,s=n.currentTime,r=n.currentTime;t&&r>0&&(r-=t.duration+t.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,c)=>{let u=n.collectedStyles.get(n.currentQuerySelector),l=u.get(c),d=!0;l&&(r!=s&&r>=l.startTime&&s<=l.endTime&&(n.errors.push(nu(c,l.startTime,l.endTime,r,s)),d=!1),r=l.startTime),d&&u.set(c,{startTime:r,endTime:s}),n.options&&Ou(a,n.options,n.errors)})})}visitKeyframes(e,n){let t={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(iu()),t;let s=1,r=0,o=[],a=!1,c=!1,u=0,l=e.steps.map(I=>{let M=this._makeStyleAst(I,n),$=M.offset!=null?M.offset:$u(M.styles),P=0;return $!=null&&(r++,P=M.offset=$),c=c||P<0||P>1,a=a||P<u,u=P,o.push(P),M});c&&n.errors.push(su()),a&&n.errors.push(ru());let d=e.steps.length,m=0;r>0&&r<d?n.errors.push(ou()):r==0&&(m=s/(d-1));let _=d-1,f=n.currentTime,g=n.currentAnimateTimings,S=g.duration;return l.forEach((I,M)=>{let $=m>0?M==_?1:m*M:o[M],P=$*S;n.currentTime=f+g.delay+P,g.duration=P,this._validateStyleAst(I,n),I.offset=$,t.styles.push(I)}),t}visitReference(e,n){return{type:8,animation:Y(this,_t(e.animation),n),options:Le(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:Le(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:Le(e.options)}}visitQuery(e,n){let t=n.currentQuerySelector,s=e.options||{};n.queryCount++,n.currentQuery=e;let[r,o]=ju(e.selector);n.currentQuerySelector=t.length?t+" "+r:r,Z(n.collectedStyles,n.currentQuerySelector,new Map);let a=Y(this,_t(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=t,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Le(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(au());let t=e.timings==="full"?{duration:0,delay:0,easing:"full"}:hn(e.timings,n.errors,!0);return{type:12,animation:Y(this,_t(e.animation),n),timings:t,options:null}}};function ju(i){let e=!!i.split(/\s*,\s*/).find(n=>n==go);return e&&(i=i.replace(Vu,"")),i=i.replace(/@\*/g,dn).replace(/@\w+/g,n=>dn+"-"+n.slice(1)).replace(/:animating/g,$i),[i,e]}function Uu(i){return i?St(i):null}var Wi=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function $u(i){if(typeof i=="string")return null;let e=null;if(Array.isArray(i))i.forEach(n=>{if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let n=i;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function Hu(i,e){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let r=hn(i,e).duration;return Pi(r,0,"")}let n=i;if(n.split(/\s+/).some(r=>r.charAt(0)=="{"&&r.charAt(1)=="{")){let r=Pi(0,0,"");return r.dynamic=!0,r.strValue=n,r}let s=hn(n,e);return Pi(s.duration,s.delay,s.easing)}function Le(i){return i?(i=St(i),i.params&&(i.params=Uu(i.params))):i={},i}function Pi(i,e,n){return{duration:i,delay:e,easing:n}}function as(i,e,n,t,s,r,o=null,a=!1){return{type:1,element:i,keyframes:e,preStyleProps:n,postStyleProps:t,duration:s,delay:r,totalTime:s+r,easing:o,subTimeline:a}}var bt=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let t=this._map.get(e);t||this._map.set(e,t=[]),t.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},zu=1,Gu=":enter",Wu=new RegExp(Gu,"g"),Ku=":leave",qu=new RegExp(Ku,"g");function _o(i,e,n,t,s,r=new Map,o=new Map,a,c,u=[]){return new Ki().buildKeyframes(i,e,n,t,s,r,o,a,c,u)}var Ki=class{buildKeyframes(e,n,t,s,r,o,a,c,u,l=[]){u=u||new bt;let d=new qi(e,n,u,s,r,l,[]);d.options=c;let m=c.delay?ye(c.delay):0;d.currentTimeline.delayNextStep(m),d.currentTimeline.setStyles([o],null,d.errors,c),Y(this,t,d);let _=d.timelines.filter(f=>f.containsAnimation());if(_.length&&a.size){let f;for(let g=_.length-1;g>=0;g--){let S=_[g];if(S.element===n){f=S;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([a],null,d.errors,c)}return _.length?_.map(f=>f.buildKeyframes()):[as(n,[],[],[],0,m,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let t=n.subInstructions.get(n.element);if(t){let s=n.createSubContext(e.options),r=n.currentTimeline.currentTime,o=this._visitSubInstructions(t,s,s.options);r!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){let t=n.createSubContext(e.options);t.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,t),this.visitReference(e.animation,t),n.transformIntoNewTimeline(t.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,t){for(let s of e){let r=s?.delay;if(r){let o=typeof r=="number"?r:ye(Dt(r,s?.params??{},n.errors));t.delayNextStep(o)}}}_visitSubInstructions(e,n,t){let r=n.currentTimeline.currentTime,o=t.duration!=null?ye(t.duration):null,a=t.delay!=null?ye(t.delay):null;return o!==0&&e.forEach(c=>{let u=n.appendInstructionToTimeline(c,o,a);r=Math.max(r,u.duration+u.delay)}),r}visitReference(e,n){n.updateOptions(e.options,!0),Y(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let t=n.subContextCount,s=n,r=e.options;if(r&&(r.params||r.delay)&&(s=n.createSubContext(r),s.transformIntoNewTimeline(),r.delay!=null)){s.previousNode.type==6&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=gn);let o=ye(r.delay);s.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Y(this,o,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>t&&s.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let t=[],s=n.currentTimeline.currentTime,r=e.options&&e.options.delay?ye(e.options.delay):0;e.steps.forEach(o=>{let a=n.createSubContext(e.options);r&&a.delayNextStep(r),Y(this,o,a),s=Math.max(s,a.currentTimeline.currentTime),t.push(a.currentTimeline)}),t.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(s),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let t=e.strValue,s=n.params?Dt(t,n.params,n.errors):t;return hn(s,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let t=n.currentAnimateTimings=this._visitTiming(e.timings,n),s=n.currentTimeline;t.delay&&(n.incrementTime(t.delay),s.snapshotCurrentStyles());let r=e.style;r.type==5?this.visitKeyframes(r,n):(n.incrementTime(t.duration),this.visitStyle(r,n),s.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let t=n.currentTimeline,s=n.currentAnimateTimings;!s&&t.hasCurrentStyleProperties()&&t.forwardFrame();let r=s&&s.easing||e.easing;e.isEmptyStep?t.applyEmptyStep(r):t.setStyles(e.styles,r,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let t=n.currentAnimateTimings,s=n.currentTimeline.duration,r=t.duration,a=n.createSubContext().currentTimeline;a.easing=t.easing,e.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*r),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(s+r),n.previousNode=e}visitQuery(e,n){let t=n.currentTimeline.currentTime,s=e.options||{},r=s.delay?ye(s.delay):0;r&&(n.previousNode.type===6||t==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=gn);let o=t,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((u,l)=>{n.currentQueryIndex=l;let d=n.createSubContext(e.options,u);r&&d.delayNextStep(r),u===n.element&&(c=d.currentTimeline),Y(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let m=d.currentTimeline.currentTime;o=Math.max(o,m)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let t=n.parentContext,s=n.currentTimeline,r=e.timings,o=Math.abs(r.duration),a=o*(n.currentQueryTotal-1),c=o*n.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":c=a-c;break;case"full":c=t.currentStaggerTime;break}let l=n.currentTimeline;c&&l.delayNextStep(c);let d=l.currentTime;Y(this,e.animation,n),n.previousNode=e,t.currentStaggerTime=s.currentTime-d+(s.startTime-t.currentTimeline.startTime)}},gn={},qi=class i{constructor(e,n,t,s,r,o,a,c){this._driver=e,this.element=n,this.subInstructions=t,this._enterClassName=s,this._leaveClassName=r,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=gn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new yn(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let t=e,s=this.options;t.duration!=null&&(s.duration=ye(t.duration)),t.delay!=null&&(s.delay=ye(t.delay));let r=t.params;if(r){let o=s.params;o||(o=this.options.params={}),Object.keys(r).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Dt(r[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let t=e.params={};Object.keys(n).forEach(s=>{t[s]=n[s]})}}return e}createSubContext(e=null,n,t){let s=n||this.element,r=new i(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,t||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(e){return this.previousNode=gn,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,t){let s={duration:n??e.duration,delay:this.currentTimeline.currentTime+(t??0)+e.delay,easing:""},r=new Yi(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,t,s,r,o){let a=[];if(s&&a.push(this.element),e.length>0){e=e.replace(Wu,"."+this._enterClassName),e=e.replace(qu,"."+this._leaveClassName);let c=t!=1,u=this._driver.query(this.element,e,c);t!==0&&(u=t<0?u.slice(u.length+t,u.length):u.slice(0,t)),a.push(...u)}return!r&&a.length==0&&o.push(cu(n)),a}},yn=class i{constructor(e,n,t,s){this._driver=e,this.element=n,this.startTime=t,this._elementTimelineStylesLookup=s,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new i(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=zu,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,t]of this._globalTimelineStyles)this._backFill.set(n,t||ue),this._currentKeyframe.set(n,ue);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,t,s){n&&this._previousKeyframe.set("easing",n);let r=s&&s.params||{},o=Yu(e,this._globalTimelineStyles);for(let[a,c]of o){let u=Dt(c,r,t);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ue),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,t)=>{let s=this._styleSummary.get(t);(!s||n.time>s.time)&&this._updateStyle(t,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,t=this._keyframes.size===1&&this.duration===0,s=[];this._keyframes.forEach((a,c)=>{let u=Ye(a,new Map,this._backFill);u.forEach((l,d)=>{l===rn?e.add(d):l===ue&&n.add(d)}),t||u.set("offset",c/this.duration),s.push(u)});let r=e.size?fn(e.values()):[],o=n.size?fn(n.values()):[];if(t){let a=s[0],c=new Map(a);a.set("offset",0),c.set("offset",1),s=[a,c]}return as(this.element,s,r,o,this.duration,this.startTime,this.easing,!1)}},Yi=class extends yn{constructor(e,n,t,s,r,o,a=!1){super(e,n,o.delay),this.keyframes=t,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:t,easing:s}=this.timings;if(this._stretchStartingKeyframe&&n){let r=[],o=t+n,a=n/o,c=Ye(e[0]);c.set("offset",0),r.push(c);let u=Ye(e[0]);u.set("offset",Jr(a)),r.push(u);let l=e.length-1;for(let d=1;d<=l;d++){let m=Ye(e[d]),_=m.get("offset"),f=n+_*t;m.set("offset",Jr(f/o)),r.push(m)}t=o,n=0,s="",e=r}return as(this.element,e,this.preStyleProps,this.postStyleProps,t,n,s,!0)}};function Jr(i,e=3){let n=Math.pow(10,e-1);return Math.round(i*n)/n}function Yu(i,e){let n=new Map,t;return i.forEach(s=>{if(s==="*"){t=t||e.keys();for(let r of t)n.set(r,ue)}else Ye(s,n)}),n}function eo(i,e,n,t,s,r,o,a,c,u,l,d,m){return{type:0,element:i,triggerName:e,isRemovalTransition:s,fromState:n,fromStyles:r,toState:t,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:d,errors:m}}var Li={},_n=class{constructor(e,n,t){this._triggerName=e,this.ast=n,this._stateStyles=t}match(e,n,t,s){return Zu(this.ast.matchers,e,n,t,s)}buildStyles(e,n,t){let s=this._stateStyles.get("*");return e!==void 0&&(s=this._stateStyles.get(e?.toString())||s),s?s.buildStyles(n,t):new Map}build(e,n,t,s,r,o,a,c,u,l){let d=[],m=this.ast.options&&this.ast.options.params||Li,_=a&&a.params||Li,f=this.buildStyles(t,_,d),g=c&&c.params||Li,S=this.buildStyles(s,g,d),I=new Set,M=new Map,$=new Map,P=s==="void",$e={params:Xu(g,m),delay:this.ast.options?.delay},re=l?[]:_o(e,n,this.ast.animation,r,o,f,S,$e,u,d),H=0;if(re.forEach(he=>{H=Math.max(he.duration+he.delay,H)}),d.length)return eo(n,this._triggerName,t,s,P,f,S,[],[],M,$,H,d);re.forEach(he=>{let fe=he.element,Is=Z(M,fe,new Set);he.preStyleProps.forEach(Me=>Is.add(Me));let nt=Z($,fe,new Set);he.postStyleProps.forEach(Me=>nt.add(Me)),fe!==n&&I.add(fe)});let de=fn(I.values());return eo(n,this._triggerName,t,s,P,f,S,re,de,M,$,H)}};function Zu(i,e,n,t,s){return i.some(r=>r(e,n,t,s))}function Xu(i,e){let n=St(e);for(let t in i)i.hasOwnProperty(t)&&i[t]!=null&&(n[t]=i[t]);return n}var Zi=class{constructor(e,n,t){this.styles=e,this.defaultParams=n,this.normalizer=t}buildStyles(e,n){let t=new Map,s=St(this.defaultParams);return Object.keys(e).forEach(r=>{let o=e[r];o!==null&&(s[r]=o)}),this.styles.styles.forEach(r=>{typeof r!="string"&&r.forEach((o,a)=>{o&&(o=Dt(o,s,n));let c=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,c,o,n),t.set(a,o)})}),t}};function Qu(i,e,n){return new Xi(i,e,n)}var Xi=class{constructor(e,n,t){this.name=e,this.ast=n,this._normalizer=t,this.transitionFactories=[],this.states=new Map,n.states.forEach(s=>{let r=s.options&&s.options.params||{};this.states.set(s.name,new Zi(s.style,r,t))}),to(this.states,"true","1"),to(this.states,"false","0"),n.transitions.forEach(s=>{this.transitionFactories.push(new _n(e,s,this.states))}),this.fallbackTransition=Ju(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,t,s){return this.transitionFactories.find(o=>o.match(e,n,t,s))||null}matchStyles(e,n,t){return this.fallbackTransition.buildStyles(e,n,t)}};function Ju(i,e,n){let r={type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0};return new _n(i,r,e)}function to(i,e,n){i.has(e)?i.has(n)||i.set(n,i.get(e)):i.has(n)&&i.set(e,i.get(n))}var el=new bt,Qi=class{constructor(e,n,t){this.bodyNode=e,this._driver=n,this._normalizer=t,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let t=[],s=[],r=yo(this._driver,n,t,s);if(t.length)throw fu(t);s.length&&void 0,this._animations.set(e,r)}_buildPlayer(e,n,t){let s=e.element,r=ao(this._normalizer,e.keyframes,n,t);return this._driver.animate(s,r,e.duration,e.delay,e.easing,[],!0)}create(e,n,t={}){let s=[],r=this._animations.get(e),o,a=new Map;if(r?(o=_o(this._driver,n,r,ho,Ui,new Map,new Map,t,el,s),o.forEach(l=>{let d=Z(a,l.element,new Map);l.postStyleProps.forEach(m=>d.set(m,null))})):(s.push(pu()),o=[]),s.length)throw mu(s);a.forEach((l,d)=>{l.forEach((m,_)=>{l.set(_,this._driver.computeStyle(d,_,ue))})});let c=o.map(l=>{let d=a.get(l.element);return this._buildPlayer(l,new Map,d)}),u=Fe(c);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let t=this.players.indexOf(n);t>=0&&this.players.splice(t,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw gu(e);return n}listen(e,n,t,s){let r=is(n,"","","");return ns(this._getPlayer(e),t,r,s),()=>{}}command(e,n,t,s){if(t=="register"){this.register(e,s[0]);return}if(t=="create"){let o=s[0]||{};this.create(e,n,o);return}let r=this._getPlayer(e);switch(t){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e);break}}},no="ng-animate-queued",tl=".ng-animate-queued",Bi="ng-animate-disabled",nl=".ng-animate-disabled",il="ng-star-inserted",sl=".ng-star-inserted",rl=[],vo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ol={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ie="__ng_removed",Et=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let t=e&&e.hasOwnProperty("value"),s=t?e.value:e;if(this.value=cl(s),t){let r=St(e);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let t=this.options.params;Object.keys(n).forEach(s=>{t[s]==null&&(t[s]=n[s])})}}},vt="void",Vi=new Et(vt),Ji=class{constructor(e,n,t){this.id=e,this.hostElement=n,this._engine=t,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,te(n,this._hostClassName)}listen(e,n,t,s){if(!this._triggers.has(n))throw yu(t,n);if(t==null||t.length==0)throw _u(n);if(!ul(t))throw vu(t,n);let r=Z(this._elementListeners,e,[]),o={name:n,phase:t,callback:s};r.push(o);let a=Z(this._engine.statesByElement,e,new Map);return a.has(n)||(te(e,on),te(e,on+"-"+n),a.set(n,Vi)),()=>{this._engine.afterFlush(()=>{let c=r.indexOf(o);c>=0&&r.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw Du(e);return n}trigger(e,n,t,s=!0){let r=this._getTrigger(n),o=new wt(this.id,n,e),a=this._engine.statesByElement.get(e);a||(te(e,on),te(e,on+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),u=new Et(t,this.id);if(!(t&&t.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(n,u),c||(c=Vi),!(u.value===vt)&&c.value===u.value){if(!hl(c.params,u.params)){let g=[],S=r.matchStyles(c.value,c.params,g),I=r.matchStyles(u.value,u.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Be(e,S),le(e,I)})}return}let m=Z(this._engine.playersByElement,e,[]);m.forEach(g=>{g.namespaceId==this.id&&g.triggerName==n&&g.queued&&g.destroy()});let _=r.matchTransition(c.value,u.value,e,u.params),f=!1;if(!_){if(!s)return;_=r.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:_,fromState:c,toState:u,player:o,isFallbackTransition:f}),f||(te(e,no),o.onStart(()=>{qe(e,no)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);let S=this._engine.playersByElement.get(e);if(S){let I=S.indexOf(o);I>=0&&S.splice(I,1)}}),this.players.push(o),m.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,t)=>{this._elementListeners.set(t,n.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(t=>t.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let t=this._engine.driver.query(e,dn,!0);t.forEach(s=>{if(s[ie])return;let r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(o=>o.triggerLeaveAnimation(s,n,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>t.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,n,t,s){let r=this._engine.statesByElement.get(e),o=new Map;if(r){let a=[];if(r.forEach((c,u)=>{if(o.set(u,c.value),this._triggers.has(u)){let l=this.trigger(e,u,vt,s);l&&a.push(l)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),t&&Fe(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),t=this._engine.statesByElement.get(e);if(n&&t){let s=new Set;n.forEach(r=>{let o=r.name;if(s.has(o))return;s.add(o);let c=this._triggers.get(o).fallbackTransition,u=t.get(o)||Vi,l=new Et(vt),d=new wt(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:u,toState:l,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let t=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let s=!1;if(t.totalAnimations){let r=t.players.length?t.playersByQueriedElement.get(e):[];if(r&&r.length)s=!0;else{let o=e;for(;o=o.parentNode;)if(t.statesByElement.get(o)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)t.markElementAsRemoved(this.id,e,!1,n);else{let r=e[ie];(!r||r===vo)&&(t.afterFlush(()=>this.clearElementCache(e)),t.destroyInnerAnimations(e),t._onRemovalComplete(e,n))}}insertNode(e,n){te(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(t=>{let s=t.player;if(s.destroyed)return;let r=t.element,o=this._elementListeners.get(r);o&&o.forEach(a=>{if(a.name==t.triggerName){let c=is(r,t.triggerName,t.fromState.value,t.toState.value);c._data=e,ns(t.player,a.phase,c,a.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):n.push(t)}),this._queue=[],n.sort((t,s)=>{let r=t.transition.ast.depCount,o=s.transition.ast.depCount;return r==0||o==0?r-o:this._engine.driver.containsElement(t.element,s.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},es=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,t){this.bodyNode=e,this.driver=n,this._normalizer=t,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,r)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,n){let t=new Ji(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(t,n):(this.newHostElements.set(n,t),this.collectEnterElement(n)),this._namespaceLookup[e]=t}_balanceNamespaceList(e,n){let t=this._namespaceList,s=this.namespacesByHostElement;if(t.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let c=s.get(a);if(c){let u=t.indexOf(c);t.splice(u+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||t.unshift(e)}else t.push(e);return s.set(n,e),e}register(e,n){let t=this._namespaceLookup[e];return t||(t=this.createNamespace(e,n)),t}registerTrigger(e,n,t){let s=this._namespaceLookup[e];s&&s.register(n,t)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let t=this._fetchNamespace(e);this.namespacesByHostElement.delete(t.hostElement);let s=this._namespaceList.indexOf(t);s>=0&&this._namespaceList.splice(s,1),t.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,t=this.statesByElement.get(e);if(t){for(let s of t.values())if(s.namespaceId){let r=this._fetchNamespace(s.namespaceId);r&&n.add(r)}}return n}trigger(e,n,t,s){if(un(n)){let r=this._fetchNamespace(e);if(r)return r.trigger(n,t,s),!0}return!1}insertNode(e,n,t,s){if(!un(n))return;let r=n[ie];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(n,t)}s&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),te(e,Bi)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),qe(e,Bi))}removeNode(e,n,t){if(un(n)){let s=e?this._fetchNamespace(e):null;s?s.removeNode(n,t):this.markElementAsRemoved(e,n,!1,t);let r=this.namespacesByHostElement.get(n);r&&r.id!==e&&r.removeNode(n,t)}else this._onRemovalComplete(n,t)}markElementAsRemoved(e,n,t,s,r){this.collectedLeaveElements.push(n),n[ie]={namespaceId:e,setForRemoval:s,hasAnimation:t,removedBeforeQueried:!1,previousTriggersValues:r}}listen(e,n,t,s,r){return un(n)?this._fetchNamespace(e).listen(n,t,s,r):()=>{}}_buildInstruction(e,n,t,s,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,t,s,e.fromState.options,e.toState.options,n,r)}destroyInnerAnimations(e){let n=this.driver.query(e,dn,!0);n.forEach(t=>this.destroyActiveAnimationsForElement(t)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,$i,!0),n.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Fe(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[ie];if(n&&n.setForRemoval){if(e[ie]=vo,n.namespaceId){this.destroyInnerAnimations(e);let t=this._fetchNamespace(n.namespaceId);t&&t.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(Bi)&&this.markElementAsDisabled(e,!1),this.driver.query(e,nl,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,s)=>this._balanceNamespaceList(t,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let t=0;t<this.collectedEnterElements.length;t++){let s=this.collectedEnterElements[t];te(s,il)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let t=[];try{n=this._flushAnimations(t,e)}finally{for(let s=0;s<t.length;s++)t[s]()}}else for(let t=0;t<this.collectedLeaveElements.length;t++){let s=this.collectedLeaveElements[t];this.processLeaveNode(s)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){let t=this._whenQuietFns;this._whenQuietFns=[],n.length?Fe(n).onDone(()=>{t.forEach(s=>s())}):t.forEach(s=>s())}}reportError(e){throw bu(e)}_flushAnimations(e,n){let t=new bt,s=[],r=new Map,o=[],a=new Map,c=new Map,u=new Map,l=new Set;this.disabledNodes.forEach(h=>{l.add(h);let y=this.driver.query(h,tl,!0);for(let v=0;v<y.length;v++)l.add(y[v])});let d=this.bodyNode,m=Array.from(this.statesByElement.keys()),_=ro(m,this.collectedEnterElements),f=new Map,g=0;_.forEach((h,y)=>{let v=ho+g++;f.set(y,v),h.forEach(w=>te(w,v))});let S=[],I=new Set,M=new Set;for(let h=0;h<this.collectedLeaveElements.length;h++){let y=this.collectedLeaveElements[h],v=y[ie];v&&v.setForRemoval&&(S.push(y),I.add(y),v.hasAnimation?this.driver.query(y,sl,!0).forEach(w=>I.add(w)):M.add(y))}let $=new Map,P=ro(m,Array.from(I));P.forEach((h,y)=>{let v=Ui+g++;$.set(y,v),h.forEach(w=>te(w,v))}),e.push(()=>{_.forEach((h,y)=>{let v=f.get(y);h.forEach(w=>qe(w,v))}),P.forEach((h,y)=>{let v=$.get(y);h.forEach(w=>qe(w,v))}),S.forEach(h=>{this.processLeaveNode(h)})});let $e=[],re=[];for(let h=this._namespaceList.length-1;h>=0;h--)this._namespaceList[h].drainQueuedTransitions(n).forEach(v=>{let w=v.player,R=v.element;if($e.push(w),this.collectedEnterElements.length){let B=R[ie];if(B&&B.setForMove){if(B.previousTriggersValues&&B.previousTriggersValues.has(v.triggerName)){let Oe=B.previousTriggersValues.get(v.triggerName),Q=this.statesByElement.get(v.element);if(Q&&Q.has(v.triggerName)){let Ut=Q.get(v.triggerName);Ut.value=Oe,Q.set(v.triggerName,Ut)}}w.destroy();return}}let oe=!d||!this.driver.containsElement(d,R),G=$.get(R),be=f.get(R),T=this._buildInstruction(v,t,be,G,oe);if(T.errors&&T.errors.length){re.push(T);return}if(oe){w.onStart(()=>Be(R,T.fromStyles)),w.onDestroy(()=>le(R,T.toStyles)),s.push(w);return}if(v.isFallbackTransition){w.onStart(()=>Be(R,T.fromStyles)),w.onDestroy(()=>le(R,T.toStyles)),s.push(w);return}let ks=[];T.timelines.forEach(B=>{B.stretchStartingKeyframe=!0,this.disabledNodes.has(B.element)||ks.push(B)}),T.timelines=ks,t.append(R,T.timelines);let Xa={instruction:T,player:w,element:R};o.push(Xa),T.queriedElements.forEach(B=>Z(a,B,[]).push(w)),T.preStyleProps.forEach((B,Oe)=>{if(B.size){let Q=c.get(Oe);Q||c.set(Oe,Q=new Set),B.forEach((Ut,qn)=>Q.add(qn))}}),T.postStyleProps.forEach((B,Oe)=>{let Q=u.get(Oe);Q||u.set(Oe,Q=new Set),B.forEach((Ut,qn)=>Q.add(qn))})});if(re.length){let h=[];re.forEach(y=>{h.push(Eu(y.triggerName,y.errors))}),$e.forEach(y=>y.destroy()),this.reportError(h)}let H=new Map,de=new Map;o.forEach(h=>{let y=h.element;t.has(y)&&(de.set(y,y),this._beforeAnimationBuild(h.player.namespaceId,h.instruction,H))}),s.forEach(h=>{let y=h.element;this._getPreviousPlayers(y,!1,h.namespaceId,h.triggerName,null).forEach(w=>{Z(H,y,[]).push(w),w.destroy()})});let he=S.filter(h=>oo(h,c,u)),fe=new Map;so(fe,this.driver,M,u,ue).forEach(h=>{oo(h,c,u)&&he.push(h)});let nt=new Map;_.forEach((h,y)=>{so(nt,this.driver,new Set(h),c,rn)}),he.forEach(h=>{let y=fe.get(h),v=nt.get(h);fe.set(h,new Map([...y?.entries()??[],...v?.entries()??[]]))});let Me=[],Ms=[],Os={};o.forEach(h=>{let{element:y,player:v,instruction:w}=h;if(t.has(y)){if(l.has(y)){v.onDestroy(()=>le(y,w.toStyles)),v.disabled=!0,v.overrideTotalTime(w.totalTime),s.push(v);return}let R=Os;if(de.size>1){let G=y,be=[];for(;G=G.parentNode;){let T=de.get(G);if(T){R=T;break}be.push(G)}be.forEach(T=>de.set(T,R))}let oe=this._buildAnimation(v.namespaceId,w,H,r,nt,fe);if(v.setRealPlayer(oe),R===Os)Me.push(v);else{let G=this.playersByElement.get(R);G&&G.length&&(v.parentPlayer=Fe(G)),s.push(v)}}else Be(y,w.fromStyles),v.onDestroy(()=>le(y,w.toStyles)),Ms.push(v),l.has(y)&&s.push(v)}),Ms.forEach(h=>{let y=r.get(h.element);if(y&&y.length){let v=Fe(y);h.setRealPlayer(v)}}),s.forEach(h=>{h.parentPlayer?h.syncPlayerEvents(h.parentPlayer):h.destroy()});for(let h=0;h<S.length;h++){let y=S[h],v=y[ie];if(qe(y,Ui),v&&v.hasAnimation)continue;let w=[];if(a.size){let oe=a.get(y);oe&&oe.length&&w.push(...oe);let G=this.driver.query(y,$i,!0);for(let be=0;be<G.length;be++){let T=a.get(G[be]);T&&T.length&&w.push(...T)}}let R=w.filter(oe=>!oe.destroyed);R.length?ll(this,y,R):this.processLeaveNode(y)}return S.length=0,Me.forEach(h=>{this.players.push(h),h.onDone(()=>{h.destroy();let y=this.players.indexOf(h);this.players.splice(y,1)}),h.play()}),Me}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,t,s,r){let o=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let c=!r||r==vt;a.forEach(u=>{u.queued||!c&&u.triggerName!=s||o.push(u)})}}return(t||s)&&(o=o.filter(a=>!(t&&t!=a.namespaceId||s&&s!=a.triggerName))),o}_beforeAnimationBuild(e,n,t){let s=n.triggerName,r=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:s;for(let c of n.timelines){let u=c.element,l=u!==r,d=Z(t,u,[]);this._getPreviousPlayers(u,l,o,a,n.toState).forEach(_=>{let f=_.getRealPlayer();f.beforeDestroy&&f.beforeDestroy(),_.destroy(),d.push(_)})}Be(r,n.fromStyles)}_buildAnimation(e,n,t,s,r,o){let a=n.triggerName,c=n.element,u=[],l=new Set,d=new Set,m=n.timelines.map(f=>{let g=f.element;l.add(g);let S=g[ie];if(S&&S.removedBeforeQueried)return new Te(f.duration,f.delay);let I=g!==c,M=dl((t.get(g)||rl).map(H=>H.getRealPlayer())).filter(H=>{let de=H;return de.element?de.element===g:!1}),$=r.get(g),P=o.get(g),$e=ao(this._normalizer,f.keyframes,$,P),re=this._buildPlayer(f,$e,M);if(f.subTimeline&&s&&d.add(g),I){let H=new wt(e,a,g);H.setRealPlayer(re),u.push(H)}return re});u.forEach(f=>{Z(this.playersByQueriedElement,f.element,[]).push(f),f.onDone(()=>al(this.playersByQueriedElement,f.element,f))}),l.forEach(f=>te(f,Zr));let _=Fe(m);return _.onDestroy(()=>{l.forEach(f=>qe(f,Zr)),le(c,n.toStyles)}),d.forEach(f=>{Z(s,f,[]).push(_)}),_}_buildPlayer(e,n,t){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,t):new Te(e.duration,e.delay)}},wt=class{constructor(e,n,t){this.namespaceId=e,this.triggerName=n,this.element=t,this._player=new Te,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,t)=>{n.forEach(s=>ns(e,t,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Z(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function al(i,e,n){let t=i.get(e);if(t){if(t.length){let s=t.indexOf(n);t.splice(s,1)}t.length==0&&i.delete(e)}return t}function cl(i){return i??null}function un(i){return i&&i.nodeType===1}function ul(i){return i=="start"||i=="done"}function io(i,e){let n=i.style.display;return i.style.display=e??"none",n}function so(i,e,n,t,s){let r=[];n.forEach(c=>r.push(io(c)));let o=[];t.forEach((c,u)=>{let l=new Map;c.forEach(d=>{let m=e.computeStyle(u,d,s);l.set(d,m),(!m||m.length==0)&&(u[ie]=ol,o.push(u))}),i.set(u,l)});let a=0;return n.forEach(c=>io(c,r[a++])),o}function ro(i,e){let n=new Map;if(i.forEach(a=>n.set(a,[])),e.length==0)return n;let t=1,s=new Set(e),r=new Map;function o(a){if(!a)return t;let c=r.get(a);if(c)return c;let u=a.parentNode;return n.has(u)?c=u:s.has(u)?c=t:c=o(u),r.set(a,c),c}return e.forEach(a=>{let c=o(a);c!==t&&n.get(c).push(a)}),n}function te(i,e){i.classList?.add(e)}function qe(i,e){i.classList?.remove(e)}function ll(i,e,n){Fe(n).onDone(()=>i.processLeaveNode(e))}function dl(i){let e=[];return Do(i,e),e}function Do(i,e){for(let n=0;n<i.length;n++){let t=i[n];t instanceof yt?Do(t.players,e):e.push(t)}}function hl(i,e){let n=Object.keys(i),t=Object.keys(e);if(n.length!=t.length)return!1;for(let s=0;s<n.length;s++){let r=n[s];if(!e.hasOwnProperty(r)||i[r]!==e[r])return!1}return!0}function oo(i,e,n){let t=n.get(i);if(!t)return!1;let s=e.get(i);return s?t.forEach(r=>s.add(r)):e.set(i,t),n.delete(i),!0}var Ze=class{constructor(e,n,t){this._driver=n,this._normalizer=t,this._triggerCache={},this.onRemovalComplete=(s,r)=>{},this._transitionEngine=new es(e.body,n,t),this._timelineEngine=new Qi(e.body,n,t),this._transitionEngine.onRemovalComplete=(s,r)=>this.onRemovalComplete(s,r)}registerTrigger(e,n,t,s,r){let o=e+"-"+s,a=this._triggerCache[o];if(!a){let c=[],u=[],l=yo(this._driver,r,c,u);if(c.length)throw du(s,c);u.length&&void 0,a=Qu(s,l,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,s,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,t,s){this._transitionEngine.insertNode(e,n,t,s)}onRemove(e,n,t){this._transitionEngine.removeNode(e,n,t)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,t,s){if(t.charAt(0)=="@"){let[r,o]=qr(t),a=s;this._timelineEngine.command(r,n,o,a)}else this._transitionEngine.trigger(e,n,t,s)}listen(e,n,t,s,r){if(t.charAt(0)=="@"){let[o,a]=qr(t);return this._timelineEngine.listen(o,n,a,r)}return this._transitionEngine.listen(e,n,t,s,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function fl(i,e){let n=null,t=null;return Array.isArray(e)&&e.length?(n=ji(e[0]),e.length>1&&(t=ji(e[e.length-1]))):e instanceof Map&&(n=ji(e)),n||t?new pl(i,n,t):null}var pl=(()=>{let e=class e{constructor(t,s,r){this._element=t,this._startStyles=s,this._endStyles=r,this._state=0;let o=e.initialStylesByElement.get(t);o||e.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&le(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(le(this._element,this._initialStyles),this._endStyles&&(le(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Be(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Be(this._element,this._endStyles),this._endStyles=null),le(this._element,this._initialStyles),this._state=3)}};e.initialStylesByElement=new WeakMap;let i=e;return i})();function ji(i){let e=null;return i.forEach((n,t)=>{ml(t)&&(e=e||new Map,e.set(t,n))}),e}function ml(i){return i==="display"||i==="position"}var vn=class{constructor(e,n,t,s){this.element=e,this.keyframes=n,this.options=t,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(t=>{n.push(Object.fromEntries(t))}),n}_triggerWebAnimation(e,n,t){return e.animate(this._convertKeyframesToObject(n),t)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((t,s)=>{s!=="offset"&&e.set(s,this._finished?t:mo(this.element,s))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(t=>t()),n.length=0}},Dn=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return co(e,n)}getParentElement(e){return ss(e)}query(e,n,t){return uo(e,n,t)}computeStyle(e,n,t){return window.getComputedStyle(e)[n]}animate(e,n,t,s,r,o=[]){let a=s==0?"both":"forwards",c={duration:t,delay:s,fill:a};r&&(c.easing=r);let u=new Map,l=o.filter(_=>_ instanceof vn);Ru(t,s)&&l.forEach(_=>{_.currentSnapshot.forEach((f,g)=>u.set(g,f))});let d=Mu(n).map(_=>Ye(_));d=Nu(e,d,u);let m=fl(e,d);return new vn(e,d,c,m)}};var ln="@",bo="@.disabled",bn=class{constructor(e,n,t,s){this.namespaceId=e,this.delegate=n,this.engine=t,this._onDestroy=s,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,t,s=!0){this.delegate.insertBefore(e,n,t),this.engine.onInsert(this.namespaceId,n,e,s)}removeChild(e,n,t){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,t,s){this.delegate.setAttribute(e,n,t,s)}removeAttribute(e,n,t){this.delegate.removeAttribute(e,n,t)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,t,s){this.delegate.setStyle(e,n,t,s)}removeStyle(e,n,t){this.delegate.removeStyle(e,n,t)}setProperty(e,n,t){n.charAt(0)==ln&&n==bo?this.disableAnimations(e,!!t):this.delegate.setProperty(e,n,t)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,t){return this.delegate.listen(e,n,t)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},ts=class extends bn{constructor(e,n,t,s,r){super(n,t,s,r),this.factory=e,this.namespaceId=n}setProperty(e,n,t){n.charAt(0)==ln?n.charAt(1)=="."&&n==bo?(t=t===void 0?!0:!!t,this.disableAnimations(e,t)):this.engine.process(this.namespaceId,e,n.slice(1),t):this.delegate.setProperty(e,n,t)}listen(e,n,t){if(n.charAt(0)==ln){let s=gl(e),r=n.slice(1),o="";return r.charAt(0)!=ln&&([r,o]=yl(r)),this.engine.listen(this.namespaceId,s,r,o,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,t,a)})}return this.delegate.listen(e,n,t)}};function gl(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function yl(i){let e=i.indexOf("."),n=i.substring(0,e),t=i.slice(e+1);return[n,t]}var En=class{constructor(e,n,t){this.delegate=e,this.engine=n,this._zone=t,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(s,r)=>{let o=r?.parentNode(s);o&&r.removeChild(o,s)}}createRenderer(e,n){let t="",s=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let u=this._rendererCache,l=u.get(s);if(!l){let d=()=>u.delete(s);l=new bn(t,s,this.engine,d),u.set(s,l)}return l}let r=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(r,o,e,u.name,u)};return n.data.animation.forEach(a),new ts(this,o,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,t){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(t));return}let s=this._animationCallbacksBuffer;s.length==0&&queueMicrotask(()=>{this._zone.run(()=>{s.forEach(r=>{let[o,a]=r;o(a)}),this._animationCallbacksBuffer=[]})}),s.push([n,t])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var vl=(()=>{let e=class e extends Ze{constructor(t,s,r,o){super(t,s,r)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(s){return new(s||e)(p(F),p(Ct),p(Ve),p(ri))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let i=e;return i})();function Dl(){return new pn}function bl(i,e,n){return new En(i,e,n)}var Eo=[{provide:Ve,useFactory:Dl},{provide:Ze,useClass:vl},{provide:qt,useFactory:bl,deps:[nn,Ze,K]}],El=[{provide:Ct,useFactory:()=>new Dn},{provide:Kt,useValue:"BrowserAnimations"},...Eo],$f=[{provide:Ct,useClass:rs},{provide:Kt,useValue:"NoopAnimations"},...Eo];function Hf(){return[...El]}function wl(){return!0}var Cl=new k("mat-sanity-checks",{providedIn:"root",factory:wl}),ls=(()=>{let e=class e{constructor(t,s,r){this._sanityChecks=s,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return wr()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[t]}};e.\u0275fac=function(s){return new(s||e)(p(kr),p(Cl,8),p(F))},e.\u0275mod=x({type:e}),e.\u0275inj=N({imports:[vi,vi]});let i=e;return i})();function Io(i,e){return class extends i{get color(){return this._color}set color(n){let t=n||this.defaultColor;t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),t&&this._elementRef.nativeElement.classList.add(`mat-${t}`),this._color=t)}constructor(...n){super(...n),this.defaultColor=e,this.color=e}}}var cs=class{constructor(e,n,t,s=!1){this._renderer=e,this.element=n,this.config=t,this._animationForciblyDisabledThroughCss=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}},wo=pi({passive:!0,capture:!0}),us=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=Er(e);n&&this._events.get(e.type)?.forEach((t,s)=>{(s===n||s.contains(n))&&t.forEach(r=>r.handleEvent(e))})}}addHandler(e,n,t,s){let r=this._events.get(n);if(r){let o=r.get(t);o?o.add(s):r.set(t,new Set([s]))}else this._events.set(n,new Map([[t,new Set([s])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,wo)})}removeHandler(e,n,t){let s=this._events.get(e);if(!s)return;let r=s.get(n);r&&(r.delete(t),r.size===0&&s.delete(n),s.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,wo)))}},Co={enterDuration:225,exitDuration:150},Sl=800,So=pi({passive:!0,capture:!0}),Ao=["mousedown","touchstart"],To=["mouseup","mouseleave","touchend","touchcancel"],At=class At{constructor(e,n,t,s){this._target=e,this._ngZone=n,this._platform=s,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=yi(t))}fadeInRipple(e,n,t={}){let s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=O(O({},Co),t.animation);t.centered&&(e=s.left+s.width/2,n=s.top+s.height/2);let o=t.radius||Al(e,n,s),a=e-s.left,c=n-s.top,u=r.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=`${a-o}px`,l.style.top=`${c-o}px`,l.style.height=`${o*2}px`,l.style.width=`${o*2}px`,t.color!=null&&(l.style.backgroundColor=t.color),l.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(l);let d=window.getComputedStyle(l),m=d.transitionProperty,_=d.transitionDuration,f=m==="none"||_==="0s"||_==="0s, 0s"||s.width===0&&s.height===0,g=new cs(this,l,t,f);l.style.transform="scale3d(1, 1, 1)",g.state=0,t.persistent||(this._mostRecentTransientRipple=g);let S=null;return!f&&(u||r.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let I=()=>this._finishRippleTransition(g),M=()=>this._destroyRipple(g);l.addEventListener("transitionend",I),l.addEventListener("transitioncancel",M),S={onTransitionEnd:I,onTransitionCancel:M}}),this._activeRipples.set(g,S),(f||!u)&&this._finishRippleTransition(g),g}fadeOutRipple(e){if(e.state===2||e.state===3)return;let n=e.element,t=O(O({},Co),e.config.animation);n.style.transitionDuration=`${t.exitDuration}ms`,n.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!t.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=yi(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,Ao.forEach(t=>{At._eventManager.addHandler(this._ngZone,t,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{To.forEach(n=>{this._triggerElement.addEventListener(n,this,So)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===0?this._startFadeOutTransition(e):e.state===2&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:t}=e.config;e.state=1,!t&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){let n=Mr(e),t=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Sl;!this._target.rippleDisabled&&!n&&!t&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Or(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let t=0;t<n.length;t++)this.fadeInRipple(n[t].clientX,n[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===1||e.config.terminateOnPointerUp&&e.state===0;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(Ao.forEach(n=>At._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&To.forEach(n=>e.removeEventListener(n,this,So)))}};At._eventManager=new us;var Fo=At;function Al(i,e,n){let t=Math.max(Math.abs(i-n.left),Math.abs(i-n.right)),s=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(t*t+s*s)}var Tl=["*"],wn;function Fl(){if(wn===void 0&&(wn=null,typeof window<"u")){let i=window;i.trustedTypes!==void 0&&(wn=i.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return wn}function Tt(i){return Fl()?.createHTML(i)||i}function Mo(i){return Error(`Unable to find icon with the name "${i}"`)}function Il(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function Oo(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function ko(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}var _e=class{constructor(e,n,t){this.url=e,this.svgText=n,this.options=t}},Ml=(()=>{let e=class e{constructor(t,s,r,o){this._httpClient=t,this._sanitizer=s,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,s,r){return this.addSvgIconInNamespace("",t,s,r)}addSvgIconLiteral(t,s,r){return this.addSvgIconLiteralInNamespace("",t,s,r)}addSvgIconInNamespace(t,s,r,o){return this._addSvgIconConfig(t,s,new _e(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,s,r,o){let a=this._sanitizer.sanitize(W.HTML,r);if(!a)throw ko(r);let c=Tt(a);return this._addSvgIconConfig(t,s,new _e("",c,o))}addSvgIconSet(t,s){return this.addSvgIconSetInNamespace("",t,s)}addSvgIconSetLiteral(t,s){return this.addSvgIconSetLiteralInNamespace("",t,s)}addSvgIconSetInNamespace(t,s,r){return this._addSvgIconSetConfig(t,new _e(s,null,r))}addSvgIconSetLiteralInNamespace(t,s,r){let o=this._sanitizer.sanitize(W.HTML,s);if(!o)throw ko(s);let a=Tt(o);return this._addSvgIconSetConfig(t,new _e("",a,r))}registerFontClassAlias(t,s=t){return this._fontCssClassesByAlias.set(t,s),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let s=this._sanitizer.sanitize(W.RESOURCE_URL,t);if(!s)throw Oo(t);let r=this._cachedIconsByUrl.get(s);return r?Ee(Cn(r)):this._loadSvgIconFromConfig(new _e(t,null)).pipe(st(o=>this._cachedIconsByUrl.set(s,o)),V(o=>Cn(o)))}getNamedSvgIcon(t,s=""){let r=Ro(s,t),o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(s,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);let a=this._iconSetConfigs.get(s);return a?this._getSvgFromIconSetConfigs(t,a):xs(Mo(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Ee(Cn(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(V(s=>Cn(s)))}_getSvgFromIconSetConfigs(t,s){let r=this._extractIconWithNameFromAnySet(t,s);if(r)return Ee(r);let o=s.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Vs(c=>{let l=`Loading icon set URL: ${this._sanitizer.sanitize(W.RESOURCE_URL,a.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(l)),Ee(null)})));return $t(o).pipe(V(()=>{let a=this._extractIconWithNameFromAnySet(t,s);if(!a)throw Mo(t);return a}))}_extractIconWithNameFromAnySet(t,s){for(let r=s.length-1;r>=0;r--){let o=s[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){let a=this._svgElementFromConfig(o),c=this._extractSvgIconFromSet(a,t,o.options);if(c)return c}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(st(s=>t.svgText=s),V(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Ee(null):this._fetchIcon(t).pipe(st(s=>t.svgText=s))}_extractSvgIconFromSet(t,s,r){let o=t.querySelector(`[id="${s}"]`);if(!o)return null;let a=o.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,r);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),r);let c=this._svgElementFromString(Tt("<svg></svg>"));return c.appendChild(a),this._setSvgAttributes(c,r)}_svgElementFromString(t){let s=this._document.createElement("DIV");s.innerHTML=t;let r=s.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){let s=this._svgElementFromString(Tt("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){let{name:a,value:c}=r[o];a!=="id"&&s.setAttribute(a,c)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&s.appendChild(t.childNodes[o].cloneNode(!0));return s}_setSvgAttributes(t,s){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),s&&s.viewBox&&t.setAttribute("viewBox",s.viewBox),t}_fetchIcon(t){let{url:s,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw Il();if(s==null)throw Error(`Cannot fetch icon from URL "${s}".`);let a=this._sanitizer.sanitize(W.RESOURCE_URL,s);if(!a)throw Oo(s);let c=this._inProgressUrlFetches.get(a);if(c)return c;let u=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(V(l=>Tt(l)),Zn(()=>this._inProgressUrlFetches.delete(a)),$s());return this._inProgressUrlFetches.set(a,u),u}_addSvgIconConfig(t,s,r){return this._svgIconConfigs.set(Ro(t,s),r),this}_addSvgIconSetConfig(t,s){let r=this._iconSetConfigs.get(t);return r?r.push(s):this._iconSetConfigs.set(t,[s]),this}_svgElementFromConfig(t){if(!t.svgElement){let s=this._svgElementFromString(t.svgText);this._setSvgAttributes(s,t.options),t.svgElement=s}return t.svgElement}_getIconConfigFromResolvers(t,s){for(let r=0;r<this._resolvers.length;r++){let o=this._resolvers[r](s,t);if(o)return Ol(o)?new _e(o.url,null,o.options):new _e(o,null)}}};e.\u0275fac=function(s){return new(s||e)(p(Br,8),p(Ri),p(F,8),p(Re))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Cn(i){return i.cloneNode(!0)}function Ro(i,e){return i+":"+e}function Ol(i){return!!(i.url&&i.options)}var kl=Io(class{constructor(i){this._elementRef=i}}),Rl=new k("MAT_ICON_DEFAULT_OPTIONS"),Nl=new k("mat-icon-location",{providedIn:"root",factory:xl});function xl(){let i=J(F),e=i?i.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var No=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Pl=No.map(i=>`[${i}]`).join(", "),Ll=/^url\(['"]?#(.*?)['"]?\)$/,xo=(()=>{let e=class e extends kl{get inline(){return this._inline}set inline(t){this._inline=mi(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){let s=this._cleanupFontValue(t);s!==this._fontSet&&(this._fontSet=s,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){let s=this._cleanupFontValue(t);s!==this._fontIcon&&(this._fontIcon=s,this._updateFontIconClasses())}constructor(t,s,r,o,a,c){super(t),this._iconRegistry=s,this._location=o,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Rs.EMPTY,c&&(c.color&&(this.color=this.defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let s=t.split(":");switch(s.length){case 1:return["",s[0]];case 2:return s;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let s=this._location.getPathname();s!==this._previousPath&&(this._previousPath=s,this._prependPathToReferences(s))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let s=this._location.getPathname();this._previousPath=s,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(s),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,s=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();s--;){let r=t.childNodes[s];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,s=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),s.forEach(r=>t.classList.add(r)),this._previousFontSetClass=s,this.fontIcon!==this._previousFontIconClass&&!s.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let s=this._elementsWithExternalReferences;s&&s.forEach((r,o)=>{r.forEach(a=>{o.setAttribute(a.name,`url('${t}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(t){let s=t.querySelectorAll(Pl),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<s.length;o++)No.forEach(a=>{let c=s[o],u=c.getAttribute(a),l=u?u.match(Ll):null;if(l){let d=r.get(c);d||(d=[],r.set(c,d)),d.push({name:a,value:l[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[s,r]=this._splitIconName(t);s&&(this._svgNamespace=s),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,s).pipe(Ht(1)).subscribe(o=>this._setSvgElement(o),o=>{let a=`Error retrieving icon ${s}:${r}! ${o.message}`;this._errorHandler.handleError(new Error(a))})}}};e.\u0275fac=function(s){return new(s||e)(C(z),C(Ml),Xn("aria-hidden"),C(Nl),C(Re),C(Rl,8))},e.\u0275cmp=ne({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(s,r){s&2&&(lt("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Ge("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[me],ngContentSelectors:Tl,decls:1,vars:0,template:function(s,r){s&1&&(ei(),ti(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let i=e;return i})(),Po=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=x({type:e}),e.\u0275inj=N({imports:[ls,ls]});let i=e;return i})();var zo=(()=>{let e=class e{constructor(t,s){this._renderer=t,this._elementRef=s,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,s){this._renderer.setProperty(this._elementRef.nativeElement,t,s)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};e.\u0275fac=function(s){return new(s||e)(C(ct),C(z))},e.\u0275dir=j({type:e});let i=e;return i})(),Vl=(()=>{let e=class e extends zo{};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ws(e)))(r||e)}})(),e.\u0275dir=j({type:e,features:[me]});let i=e;return i})(),Go=new k("NgValueAccessor");var jl={provide:Go,useExisting:zt(()=>Nn),multi:!0};function Ul(){let i=ge()?ge().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var $l=new k("CompositionEventMode"),Nn=(()=>{let e=class e extends zo{constructor(t,s,r){super(t,s),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Ul())}writeValue(t){let s=t??"";this.setProperty("value",s)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};e.\u0275fac=function(s){return new(s||e)(C(ct),C(z),C($l,8))},e.\u0275dir=j({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(s,r){s&1&&Ce("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[We([jl]),me]});let i=e;return i})();function Ie(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function Wo(i){return i!=null&&typeof i.length=="number"}var Ko=new k("NgValidators"),qo=new k("NgAsyncValidators"),Hl=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,An=class{static min(e){return zl(e)}static max(e){return Gl(e)}static required(e){return Wl(e)}static requiredTrue(e){return Kl(e)}static email(e){return ql(e)}static minLength(e){return Yl(e)}static maxLength(e){return Zl(e)}static pattern(e){return Xl(e)}static nullValidator(e){return Yo(e)}static compose(e){return ta(e)}static composeAsync(e){return ia(e)}};function zl(i){return e=>{if(Ie(e.value)||Ie(i))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<i?{min:{min:i,actual:e.value}}:null}}function Gl(i){return e=>{if(Ie(e.value)||Ie(i))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>i?{max:{max:i,actual:e.value}}:null}}function Wl(i){return Ie(i.value)?{required:!0}:null}function Kl(i){return i.value===!0?null:{required:!0}}function ql(i){return Ie(i.value)||Hl.test(i.value)?null:{email:!0}}function Yl(i){return e=>Ie(e.value)||!Wo(e.value)?null:e.value.length<i?{minlength:{requiredLength:i,actualLength:e.value.length}}:null}function Zl(i){return e=>Wo(e.value)&&e.value.length>i?{maxlength:{requiredLength:i,actualLength:e.value.length}}:null}function Xl(i){if(!i)return Yo;let e,n;return typeof i=="string"?(n="",i.charAt(0)!=="^"&&(n+="^"),n+=i,i.charAt(i.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=i.toString(),e=i),t=>{if(Ie(t.value))return null;let s=t.value;return e.test(s)?null:{pattern:{requiredPattern:n,actualValue:s}}}}function Yo(i){return null}function Zo(i){return i!=null}function Xo(i){return Jn(i)?Yn(i):i}function Qo(i){let e={};return i.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function Jo(i,e){return e.map(n=>n(i))}function Ql(i){return!i.validate}function ea(i){return i.map(e=>Ql(e)?e:n=>e.validate(n))}function ta(i){if(!i)return null;let e=i.filter(Zo);return e.length==0?null:function(n){return Qo(Jo(n,e))}}function na(i){return i!=null?ta(ea(i)):null}function ia(i){if(!i)return null;let e=i.filter(Zo);return e.length==0?null:function(n){let t=Jo(n,e).map(Xo);return $t(t).pipe(V(Qo))}}function sa(i){return i!=null?ia(ea(i)):null}function Lo(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function ra(i){return i._rawValidators}function oa(i){return i._rawAsyncValidators}function ds(i){return i?Array.isArray(i)?i:[i]:[]}function Tn(i,e){return Array.isArray(i)?i.includes(e):i===e}function Bo(i,e){let n=ds(e);return ds(i).forEach(s=>{Tn(n,s)||n.push(s)}),n}function Vo(i,e){return ds(e).filter(n=>!Tn(i,n))}var Fn=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=na(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=sa(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Qe=class extends Fn{get formDirective(){return null}get path(){return null}},Mt=class extends Fn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},In=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Jl={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Kp=ae(O({},Jl),{"[class.ng-submitted]":"isSubmitted"}),aa=(()=>{let e=class e extends In{constructor(t){super(t)}};e.\u0275fac=function(s){return new(s||e)(C(Mt,2))},e.\u0275dir=j({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(s,r){s&2&&Ge("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[me]});let i=e;return i})(),ca=(()=>{let e=class e extends In{constructor(t){super(t)}};e.\u0275fac=function(s){return new(s||e)(C(Qe,10))},e.\u0275dir=j({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(s,r){s&2&&Ge("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[me]});let i=e;return i})();var Ft="VALID",Sn="INVALID",Xe="PENDING",It="DISABLED";function ua(i){return(xn(i)?i.validators:i)||null}function ed(i){return Array.isArray(i)?na(i):i||null}function la(i,e){return(xn(e)?e.asyncValidators:i)||null}function td(i){return Array.isArray(i)?sa(i):i||null}function xn(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function nd(i,e,n){let t=i.controls;if(!(e?Object.keys(t):t).length)throw new D(1e3,"");if(!t[n])throw new D(1001,"")}function id(i,e,n){i._forEachChild((t,s)=>{if(n[s]===void 0)throw new D(1002,"")})}var Mn=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ft}get invalid(){return this.status===Sn}get pending(){return this.status==Xe}get disabled(){return this.status===It}get enabled(){return this.status!==It}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Bo(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Bo(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Vo(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Vo(e,this._rawAsyncValidators))}hasValidator(e){return Tn(this._rawValidators,e)}hasAsyncValidator(e){return Tn(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Xe,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=It,this.errors=null,this._forEachChild(t=>{t.disable(ae(O({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ae(O({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(t=>t(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ft,this._forEachChild(t=>{t.enable(ae(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ae(O({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ft||this.status===Xe)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?It:Ft}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Xe,this._hasOwnPendingAsyncValidator=!0;let n=Xo(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((t,s)=>t&&t._find(s),this)}getError(e,n){let t=n?this.get(n):this;return t&&t.errors?t.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new pe,this.statusChanges=new pe}_calculateStatus(){return this._allControlsDisabled()?It:this.errors?Sn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xe)?Xe:this._anyControlsHaveStatus(Sn)?Sn:Ft}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xn(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=ed(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=td(this._rawAsyncValidators)}},On=class extends Mn{constructor(e,n,t){super(ua(n),la(t,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,t={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){id(this,!0,e),Object.keys(e).forEach(t=>{nd(this,!0,t),this.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(t=>{let s=this.controls[t];s&&s.patchValue(e[t],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((t,s)=>{t.reset(e?e[s]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,t)=>(e[t]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,t)=>t._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let t=this.controls[n];t&&e(t,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,t]of Object.entries(this.controls))if(this.contains(n)&&e(t))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,t,s)=>((t.enabled||this.disabled)&&(n[s]=t.value),n))}_reduceChildren(e,n){let t=e;return this._forEachChild((s,r)=>{t=n(t,s,r)}),t}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var da=new k("CallSetDisabledState",{providedIn:"root",factory:()=>hs}),hs="always";function sd(i,e){return[...e.path,i]}function jo(i,e,n=hs){fs(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),od(i,e),cd(i,e),ad(i,e),rd(i,e)}function Uo(i,e,n=!0){let t=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(t),e.valueAccessor.registerOnTouched(t)),Rn(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function kn(i,e){i.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function rd(i,e){if(e.valueAccessor.setDisabledState){let n=t=>{e.valueAccessor.setDisabledState(t)};i.registerOnDisabledChange(n),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(n)})}}function fs(i,e){let n=ra(i);e.validator!==null?i.setValidators(Lo(n,e.validator)):typeof n=="function"&&i.setValidators([n]);let t=oa(i);e.asyncValidator!==null?i.setAsyncValidators(Lo(t,e.asyncValidator)):typeof t=="function"&&i.setAsyncValidators([t]);let s=()=>i.updateValueAndValidity();kn(e._rawValidators,s),kn(e._rawAsyncValidators,s)}function Rn(i,e){let n=!1;if(i!==null){if(e.validator!==null){let s=ra(i);if(Array.isArray(s)&&s.length>0){let r=s.filter(o=>o!==e.validator);r.length!==s.length&&(n=!0,i.setValidators(r))}}if(e.asyncValidator!==null){let s=oa(i);if(Array.isArray(s)&&s.length>0){let r=s.filter(o=>o!==e.asyncValidator);r.length!==s.length&&(n=!0,i.setAsyncValidators(r))}}}let t=()=>{};return kn(e._rawValidators,t),kn(e._rawAsyncValidators,t),n}function od(i,e){e.valueAccessor.registerOnChange(n=>{i._pendingValue=n,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&ha(i,e)})}function ad(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&ha(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function ha(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function cd(i,e){let n=(t,s)=>{e.valueAccessor.writeValue(t),s&&e.viewToModelUpdate(t)};i.registerOnChange(n),e._registerOnDestroy(()=>{i._unregisterOnChange(n)})}function ud(i,e){i==null,fs(i,e)}function ld(i,e){return Rn(i,e)}function dd(i,e){if(!i.hasOwnProperty("model"))return!1;let n=i.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function hd(i){return Object.getPrototypeOf(i.constructor)===Vl}function fd(i,e){i._syncPendingControls(),e.forEach(n=>{let t=n.control;t.updateOn==="submit"&&t._pendingChange&&(n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function pd(i,e){if(!e)return null;Array.isArray(e);let n,t,s;return e.forEach(r=>{r.constructor===Nn?n=r:hd(r)?t=r:s=r}),s||t||n||null}function md(i,e){let n=i.indexOf(e);n>-1&&i.splice(n,1)}function $o(i,e){let n=i.indexOf(e);n>-1&&i.splice(n,1)}function Ho(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var ps=class extends Mn{constructor(e=null,n,t){super(ua(n),la(t,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xn(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Ho(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$o(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$o(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Ho(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var gd=i=>i instanceof ps;var fa=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275dir=j({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let i=e;return i})();var yd=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=x({type:e}),e.\u0275inj=N({});let i=e;return i})();var pa=new k("NgModelWithFormControlWarning");var _d={provide:Qe,useExisting:zt(()=>ms)},ms=(()=>{let e=class e extends Qe{constructor(t,s,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new pe,this._setValidators(t),this._setAsyncValidators(s)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let s=this.form.get(t.path);return jo(s,t,this.callSetDisabledState),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),s}getControl(t){return this.form.get(t.path)}removeControl(t){Uo(t.control||null,t,!1),md(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,s){this.form.get(t.path).setValue(s)}onSubmit(t){return this.submitted=!0,fd(this.form,this.directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{let s=t.control,r=this.form.get(t.path);s!==r&&(Uo(s||null,t),gd(r)&&(jo(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let s=this.form.get(t.path);ud(s,t),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let s=this.form.get(t.path);s&&ld(s,t)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fs(this.form,this),this._oldForm&&Rn(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(s){return new(s||e)(C(Ko,10),C(qo,10),C(da,8))},e.\u0275dir=j({type:e,selectors:[["","formGroup",""]],hostBindings:function(s,r){s&1&&Ce("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[We([_d]),me,ot]});let i=e;return i})();var vd={provide:Mt,useExisting:zt(()=>gs)},gs=(()=>{let e=class e extends Mt{set isDisabled(t){}constructor(t,s,r,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new pe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(s),this._setAsyncValidators(r),this.valueAccessor=pd(this,o)}ngOnChanges(t){this._added||this._setUpControl(),dd(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return sd(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(s){return new(s||e)(C(Qe,13),C(Ko,10),C(qo,10),C(Go,10),C(pa,8))},e.\u0275dir=j({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[We([vd]),me,ot]});let i=e;return i})();var Dd=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=x({type:e}),e.\u0275inj=N({imports:[yd]});let i=e;return i})();var ma=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:pa,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:da,useValue:t.callSetDisabledState??hs}]}}};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=x({type:e}),e.\u0275inj=N({imports:[Dd]});let i=e;return i})();var se=Object.create(null);se.open="0";se.close="1";se.ping="2";se.pong="3";se.message="4";se.upgrade="5";se.noop="6";var Ot=Object.create(null);Object.keys(se).forEach(i=>{Ot[se[i]]=i});var kt={type:"error",data:"parser error"};var _a=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",va=typeof ArrayBuffer=="function",Da=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer,Rt=({type:i,data:e},n,t)=>_a&&e instanceof Blob?n?t(e):ga(e,t):va&&(e instanceof ArrayBuffer||Da(e))?n?t(e):ga(new Blob([e]),t):t(se[i]+(e||"")),ga=(i,e)=>{let n=new FileReader;return n.onload=function(){let t=n.result.split(",")[1];e("b"+(t||""))},n.readAsDataURL(i)};function ya(i){return i instanceof Uint8Array?i:i instanceof ArrayBuffer?new Uint8Array(i):new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}var ys;function ba(i,e){if(_a&&i.data instanceof Blob)return i.data.arrayBuffer().then(ya).then(e);if(va&&(i.data instanceof ArrayBuffer||Da(i.data)))return e(ya(i.data));Rt(i,!1,n=>{ys||(ys=new TextEncoder),e(ys.encode(n))})}var Ea="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let i=0;i<Ea.length;i++)Nt[Ea.charCodeAt(i)]=i;var wa=i=>{let e=i.length*.75,n=i.length,t,s=0,r,o,a,c;i[i.length-1]==="="&&(e--,i[i.length-2]==="="&&e--);let u=new ArrayBuffer(e),l=new Uint8Array(u);for(t=0;t<n;t+=4)r=Nt[i.charCodeAt(t)],o=Nt[i.charCodeAt(t+1)],a=Nt[i.charCodeAt(t+2)],c=Nt[i.charCodeAt(t+3)],l[s++]=r<<2|o>>4,l[s++]=(o&15)<<4|a>>2,l[s++]=(a&3)<<6|c&63;return u};var Ed=typeof ArrayBuffer=="function",xt=(i,e)=>{if(typeof i!="string")return{type:"message",data:Ca(i,e)};let n=i.charAt(0);return n==="b"?{type:"message",data:wd(i.substring(1),e)}:Ot[n]?i.length>1?{type:Ot[n],data:i.substring(1)}:{type:Ot[n]}:kt},wd=(i,e)=>{if(Ed){let n=wa(i);return Ca(n,e)}else return{base64:!0,data:i}},Ca=(i,e)=>{switch(e){case"blob":return i instanceof Blob?i:new Blob([i]);case"arraybuffer":default:return i instanceof ArrayBuffer?i:i.buffer}};var Sa=String.fromCharCode(30),Aa=(i,e)=>{let n=i.length,t=new Array(n),s=0;i.forEach((r,o)=>{Rt(r,!1,a=>{t[o]=a,++s===n&&e(t.join(Sa))})})},Ta=(i,e)=>{let n=i.split(Sa),t=[];for(let s=0;s<n.length;s++){let r=xt(n[s],e);if(t.push(r),r.type==="error")break}return t};function Fa(){return new TransformStream({transform(i,e){ba(i,n=>{let t=n.length,s;if(t<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,t);else if(t<65536){s=new Uint8Array(3);let r=new DataView(s.buffer);r.setUint8(0,126),r.setUint16(1,t)}else{s=new Uint8Array(9);let r=new DataView(s.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(t))}i.data&&typeof i.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}var _s;function Pn(i){return i.reduce((e,n)=>e+n.length,0)}function Ln(i,e){if(i[0].length===e)return i.shift();let n=new Uint8Array(e),t=0;for(let s=0;s<e;s++)n[s]=i[0][t++],t===i[0].length&&(i.shift(),t=0);return i.length&&t<i[0].length&&(i[0]=i[0].slice(t)),n}function Ia(i,e){_s||(_s=new TextDecoder);let n=[],t=0,s=-1,r=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(t===0){if(Pn(n)<1)break;let c=Ln(n,1);r=(c[0]&128)===128,s=c[0]&127,s<126?t=3:s===126?t=1:t=2}else if(t===1){if(Pn(n)<2)break;let c=Ln(n,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),t=3}else if(t===2){if(Pn(n)<8)break;let c=Ln(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),l=u.getUint32(0);if(l>Math.pow(2,53-32)-1){a.enqueue(kt);break}s=l*Math.pow(2,32)+u.getUint32(4),t=3}else{if(Pn(n)<s)break;let c=Ln(n,s);a.enqueue(xt(r?c:_s.decode(c),e)),t=0}if(s===0||s>i){a.enqueue(kt);break}}}})}var vs=4;function A(i){if(i)return Cd(i)}function Cd(i){for(var e in A.prototype)i[e]=A.prototype[e];return i}A.prototype.on=A.prototype.addEventListener=function(i,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(e),this};A.prototype.once=function(i,e){function n(){this.off(i,n),e.apply(this,arguments)}return n.fn=e,this.on(i,n),this};A.prototype.off=A.prototype.removeListener=A.prototype.removeAllListeners=A.prototype.removeEventListener=function(i,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+i];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var t,s=0;s<n.length;s++)if(t=n[s],t===e||t.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+i],this};A.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+i],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(n){n=n.slice(0);for(var t=0,s=n.length;t<s;++t)n[t].apply(this,e)}return this};A.prototype.emitReserved=A.prototype.emit;A.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]};A.prototype.hasListeners=function(i){return!!this.listeners(i).length};var U=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function Bn(i,...e){return e.reduce((n,t)=>(i.hasOwnProperty(t)&&(n[t]=i[t]),n),{})}var Sd=U.setTimeout,Ad=U.clearTimeout;function ve(i,e){e.useNativeTimers?(i.setTimeoutFn=Sd.bind(U),i.clearTimeoutFn=Ad.bind(U)):(i.setTimeoutFn=U.setTimeout.bind(U),i.clearTimeoutFn=U.clearTimeout.bind(U))}var Td=1.33;function Ma(i){return typeof i=="string"?Fd(i):Math.ceil((i.byteLength||i.size)*Td)}function Fd(i){let e=0,n=0;for(let t=0,s=i.length;t<s;t++)e=i.charCodeAt(t),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(t++,n+=4);return n}function Oa(i){let e="";for(let n in i)i.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(i[n]));return e}function ka(i){let e={},n=i.split("&");for(let t=0,s=n.length;t<s;t++){let r=n[t].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}var Vn=class extends Error{constructor(e,n,t){super(e),this.description=n,this.context=t,this.type="TransportError"}},De=class extends A{constructor(e){super(),this.writable=!1,ve(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,n,t){return super.emitReserved("error",new Vn(e,n,t)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let n=xt(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let n=Oa(e);return n.length?"?"+n:""}};var Pa="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Ds=64,Id={},Ra=0,jn=0,Na;function xa(i){let e="";do e=Pa[i%Ds]+e,i=Math.floor(i/Ds);while(i>0);return e}function Un(){let i=xa(+new Date);return i!==Na?(Ra=0,Na=i):i+"."+xa(Ra++)}for(;jn<Ds;jn++)Id[Pa[jn]]=jn;var La=!1;try{La=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var Ba=La;function bs(i){let e=i.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Ba))return new XMLHttpRequest}catch{}if(!e)try{return new U[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Md(){}var Od=function(){return new bs({xdomain:!1}).responseType!=null}(),Hn=class extends De{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){let t=location.protocol==="https:",s=location.port;s||(s=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}let n=e&&e.forceBase64;this.supportsBinary=Od&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";let n=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let t=0;this.polling&&(t++,this.once("pollComplete",function(){--t||n()})),this.writable||(t++,this.once("drain",function(){--t||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let n=t=>{if(this.readyState==="opening"&&t.type==="open"&&this.onOpen(),t.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)};Ta(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Aa(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Un()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new $n(this.uri(),e)}doWrite(e,n){let t=this.request({method:"POST",data:e});t.on("success",n),t.on("error",(s,r)=>{this.onError("xhr post error",s,r)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,t)=>{this.onError("xhr poll error",n,t)}),this.pollXhr=e}},$n=(()=>{class i extends A{constructor(n,t){super(),ve(this,t),this.opts=t,this.method=t.method||"GET",this.uri=n,this.data=t.data!==void 0?t.data:null,this.create()}create(){var n;let t=Bn(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;let s=this.xhr=new bs(t);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&s.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(n=this.opts.cookieJar)===null||n===void 0||n.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var r;s.readyState===3&&((r=this.opts.cookieJar)===null||r===void 0||r.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=i.requestsCount++,i.requests[this.index]=this)}onError(n){this.emitReserved("error",n,this.xhr),this.cleanup(!0)}cleanup(n){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Md,n)try{this.xhr.abort()}catch{}typeof document<"u"&&delete i.requests[this.index],this.xhr=null}}onLoad(){let n=this.xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return i.requestsCount=0,i.requests={},i})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Va);else if(typeof addEventListener=="function"){let i="onpagehide"in U?"pagehide":"unload";addEventListener(i,Va,!1)}}function Va(){for(let i in $n.requests)$n.requests.hasOwnProperty(i)&&$n.requests[i].abort()}var je=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0))(),Pt=U.WebSocket||U.MozWebSocket,zn=!0,ja="arraybuffer";var Ua=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Gn=class extends De{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let e=this.uri(),n=this.opts.protocols,t=Ua?{}:Bn(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(t.headers=this.opts.extraHeaders);try{this.ws=zn&&!Ua?n?new Pt(e,n):new Pt(e):new Pt(e,n,t)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){let t=e[n],s=n===e.length-1;Rt(t,this.supportsBinary,r=>{let o={};zn||(t.options&&(o.compress=t.options.compress),this.opts.perMessageDeflate&&(typeof r=="string"?Buffer.byteLength(r):r.length)<this.opts.perMessageDeflate.threshold&&(o.compress=!1));try{zn?this.ws.send(r):this.ws.send(r,o)}catch{}s&&je(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Un()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}check(){return!!Pt}};var Wn=class extends De{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{let n=Ia(Number.MAX_SAFE_INTEGER,this.socket.binaryType),t=e.readable.pipeThrough(n).getReader(),s=Fa();s.readable.pipeTo(e.writable),this.writer=s.writable.getWriter();let r=()=>{t.read().then(({done:a,value:c})=>{a||(this.onPacket(c),r())}).catch(a=>{})};r();let o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let n=0;n<e.length;n++){let t=e[n],s=n===e.length-1;this.writer.write(t).then(()=>{s&&je(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}};var Es={websocket:Gn,webtransport:Wn,polling:Hn};var kd=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Rd=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Je(i){if(i.length>2e3)throw"URI too long";let e=i,n=i.indexOf("["),t=i.indexOf("]");n!=-1&&t!=-1&&(i=i.substring(0,n)+i.substring(n,t).replace(/:/g,";")+i.substring(t,i.length));let s=kd.exec(i||""),r={},o=14;for(;o--;)r[Rd[o]]=s[o]||"";return n!=-1&&t!=-1&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=Nd(r,r.path),r.queryKey=xd(r,r.query),r}function Nd(i,e){let n=/\/{2,9}/g,t=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&t.splice(0,1),e.slice(-1)=="/"&&t.splice(t.length-1,1),t}function xd(i,e){let n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(t,s,r){s&&(n[s]=r)}),n}var Kn=(()=>{class i extends A{constructor(n,t={}){super(),this.binaryType=ja,this.writeBuffer=[],n&&typeof n=="object"&&(t=n,n=null),n?(n=Je(n),t.hostname=n.host,t.secure=n.protocol==="https"||n.protocol==="wss",t.port=n.port,n.query&&(t.query=n.query)):t.host&&(t.hostname=Je(t.host).host),ve(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ka(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(n){let t=Object.assign({},this.opts.query);t.EIO=vs,t.transport=n,this.id&&(t.sid=this.id);let s=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new Es[n](s)}open(){let n;if(this.opts.rememberUpgrade&&i.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)n="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else n=this.transports[0];this.readyState="opening";try{n=this.createTransport(n)}catch{this.transports.shift(),this.open();return}n.open(),this.setTransport(n)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(n){let t=this.createTransport(n),s=!1;i.priorWebsocketSuccess=!1;let r=()=>{s||(t.send([{type:"ping",data:"probe"}]),t.once("packet",m=>{if(!s)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;i.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(d(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{let _=new Error("probe error");_.transport=t.name,this.emitReserved("upgradeError",_)}}))};function o(){s||(s=!0,d(),t.close(),t=null)}let a=m=>{let _=new Error("probe error: "+m);_.transport=t.name,o(),this.emitReserved("upgradeError",_)};function c(){a("transport closed")}function u(){a("socket closed")}function l(m){t&&m.name!==t.name&&o()}let d=()=>{t.removeListener("open",r),t.removeListener("error",a),t.removeListener("close",c),this.off("close",u),this.off("upgrading",l)};t.once("open",r),t.once("error",a),t.once("close",c),this.once("close",u),this.once("upgrading",l),this.upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{s||t.open()},200):t.open()}onOpen(){if(this.readyState="open",i.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let n=0,t=this.upgrades.length;for(;n<t;n++)this.probe(this.upgrades[n])}}onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),this.resetPingTimeout(),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let t=new Error("server error");t.code=n.data,this.onError(t);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this.upgrades=this.filterUpgrades(n.upgrades),this.pingInterval=n.pingInterval,this.pingTimeout=n.pingTimeout,this.maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let n=this.getWritablePackets();this.transport.send(n),this.prevBufferLen=n.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let s=0;s<this.writeBuffer.length;s++){let r=this.writeBuffer[s].data;if(r&&(t+=Ma(r)),s>0&&t>this.maxPayload)return this.writeBuffer.slice(0,s);t+=2}return this.writeBuffer}write(n,t,s){return this.sendPacket("message",n,t,s),this}send(n,t,s){return this.sendPacket("message",n,t,s),this}sendPacket(n,t,s,r){if(typeof t=="function"&&(r=t,t=void 0),typeof s=="function"&&(r=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;let o={type:n,data:t,options:s};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}close(){let n=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),n()},s=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():n()}):this.upgrading?s():n()),this}onError(n){i.priorWebsocketSuccess=!1,this.emitReserved("error",n),this.onClose("transport error",n)}onClose(n,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",n,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(n){let t=[],s=0,r=n.length;for(;s<r;s++)~this.transports.indexOf(n[s])&&t.push(n[s]);return t}}return i.protocol=vs,i})();var ig=Kn.protocol;function $a(i,e="",n){let t=i;n=n||typeof location<"u"&&location,i==null&&(i=n.protocol+"//"+n.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=n.protocol+i:i=n.host+i),/^(https?|wss?):\/\//.test(i)||(typeof n<"u"?i=n.protocol+"//"+i:i="https://"+i),t=Je(i)),t.port||(/^(http|ws)$/.test(t.protocol)?t.port="80":/^(http|ws)s$/.test(t.protocol)&&(t.port="443")),t.path=t.path||"/";let r=t.host.indexOf(":")!==-1?"["+t.host+"]":t.host;return t.id=t.protocol+"://"+r+":"+t.port+e,t.href=t.protocol+"://"+r+(n&&n.port===t.port?"":":"+t.port),t}var Fs={};Qa(Fs,{Decoder:()=>As,Encoder:()=>Ss,PacketType:()=>E,protocol:()=>Ka});var Pd=typeof ArrayBuffer=="function",Ld=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,Ha=Object.prototype.toString,Bd=typeof Blob=="function"||typeof Blob<"u"&&Ha.call(Blob)==="[object BlobConstructor]",Vd=typeof File=="function"||typeof File<"u"&&Ha.call(File)==="[object FileConstructor]";function Bt(i){return Pd&&(i instanceof ArrayBuffer||Ld(i))||Bd&&i instanceof Blob||Vd&&i instanceof File}function Lt(i,e){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let n=0,t=i.length;n<t;n++)if(Lt(i[n]))return!0;return!1}if(Bt(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return Lt(i.toJSON(),!0);for(let n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&Lt(i[n]))return!0;return!1}function za(i){let e=[],n=i.data,t=i;return t.data=ws(n,e),t.attachments=e.length,{packet:t,buffers:e}}function ws(i,e){if(!i)return i;if(Bt(i)){let n={_placeholder:!0,num:e.length};return e.push(i),n}else if(Array.isArray(i)){let n=new Array(i.length);for(let t=0;t<i.length;t++)n[t]=ws(i[t],e);return n}else if(typeof i=="object"&&!(i instanceof Date)){let n={};for(let t in i)Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=ws(i[t],e));return n}return i}function Ga(i,e){return i.data=Cs(i.data,e),delete i.attachments,i}function Cs(i,e){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<e.length)return e[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let n=0;n<i.length;n++)i[n]=Cs(i[n],e);else if(typeof i=="object")for(let n in i)Object.prototype.hasOwnProperty.call(i,n)&&(i[n]=Cs(i[n],e));return i}var jd=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ka=5,E=function(i){return i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK",i}(E||{}),Ss=class{constructor(e){this.replacer=e}encode(e){return(e.type===E.EVENT||e.type===E.ACK)&&Lt(e)?this.encodeAsBinary({type:e.type===E.EVENT?E.BINARY_EVENT:E.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===E.BINARY_EVENT||e.type===E.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){let n=za(e),t=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(t),s}};function Wa(i){return Object.prototype.toString.call(i)==="[object Object]"}var As=class i extends A{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);let t=n.type===E.BINARY_EVENT;t||n.type===E.BINARY_ACK?(n.type=t?E.EVENT:E.ACK,this.reconstructor=new Ts(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Bt(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0,t={type:Number(e.charAt(0))};if(E[t.type]===void 0)throw new Error("unknown packet type "+t.type);if(t.type===E.BINARY_EVENT||t.type===E.BINARY_ACK){let r=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);let o=e.substring(r,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");t.attachments=Number(o)}if(e.charAt(n+1)==="/"){let r=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););t.nsp=e.substring(r,n)}else t.nsp="/";let s=e.charAt(n+1);if(s!==""&&Number(s)==s){let r=n+1;for(;++n;){let o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}t.id=Number(e.substring(r,n+1))}if(e.charAt(++n)){let r=this.tryParse(e.substr(n));if(i.isPayloadValid(t.type,r))t.data=r;else throw new Error("invalid payload")}return t}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case E.CONNECT:return Wa(n);case E.DISCONNECT:return n===void 0;case E.CONNECT_ERROR:return typeof n=="string"||Wa(n);case E.EVENT:case E.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&jd.indexOf(n[0])===-1);case E.ACK:case E.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},Ts=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let n=Ga(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function X(i,e,n){return i.on(e,n),function(){i.off(e,n)}}var Ud=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),et=class extends A{constructor(e,n,t){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,t&&t.auth&&(this.auth=t.auth),this._opts=Object.assign({},t),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[X(e,"open",this.onopen.bind(this)),X(e,"packet",this.onpacket.bind(this)),X(e,"error",this.onerror.bind(this)),X(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if(Ud.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;let t={type:E.EVENT,data:n};if(t.options={},t.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){let o=this.ids++,a=n.pop();this._registerAckCallback(o,a),t.id=o}let s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(t),this.packet(t)):this.sendBuffer.push(t)),this.flags={},this}_registerAckCallback(e,n){var t;let s=(t=this.flags.timeout)!==null&&t!==void 0?t:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}let r=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},s);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(r),n.apply(this,[null,...o])}}emitWithAck(e,...n){let t=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((s,r)=>{n.push((o,a)=>t?o?r(o):s(a):s(o)),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());let t={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...r)=>t!==this._queue[0]?void 0:(s!==null?t.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...r)),t.pending=!1,this._drainQueue())),this._queue.push(t),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:E.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case E.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case E.EVENT:case E.BINARY_EVENT:this.onevent(e);break;case E.ACK:case E.BINARY_ACK:this.onack(e);break;case E.DISCONNECT:this.ondisconnect();break;case E.CONNECT_ERROR:this.destroy();let t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t);break}}onevent(e){let n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let n=this._anyListeners.slice();for(let t of n)t.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let n=this,t=!1;return function(...s){t||(t=!0,n.packet({type:E.ACK,id:e,data:s}))}}onack(e){let n=this.acks[e.id];typeof n=="function"&&(n.apply(this,e.data),delete this.acks[e.id])}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:E.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let n=this._anyListeners;for(let t=0;t<n.length;t++)if(e===n[t])return n.splice(t,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let n=this._anyOutgoingListeners;for(let t=0;t<n.length;t++)if(e===n[t])return n.splice(t,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let n=this._anyOutgoingListeners.slice();for(let t of n)t.apply(this,e.data)}}};function Ue(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}Ue.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*i);i=Math.floor(e*10)&1?i+n:i-n}return Math.min(i,this.max)|0};Ue.prototype.reset=function(){this.attempts=0};Ue.prototype.setMin=function(i){this.ms=i};Ue.prototype.setMax=function(i){this.max=i};Ue.prototype.setJitter=function(i){this.jitter=i};var tt=class extends A{constructor(e,n){var t;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,ve(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((t=n.randomizationFactor)!==null&&t!==void 0?t:.5),this.backoff=new Ue({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;let s=n.parser||Fs;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Kn(this.uri,this.opts);let n=this.engine,t=this;this._readyState="opening",this.skipReconnect=!1;let s=X(n,"open",function(){t.onopen(),e&&e()}),r=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=X(n,"error",r);if(this._timeout!==!1){let a=this._timeout,c=this.setTimeoutFn(()=>{s(),r(new Error("timeout")),n.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(X(e,"ping",this.onping.bind(this)),X(e,"data",this.ondata.bind(this)),X(e,"error",this.onerror.bind(this)),X(e,"close",this.onclose.bind(this)),X(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){je(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let t=this.nsps[e];return t?this._autoConnect&&!t.active&&t.connect():(t=new et(this,e,n),this.nsps[e]=t),t}_destroy(e){let n=Object.keys(this.nsps);for(let t of n)if(this.nsps[t].active)return;this._close()}_packet(e){let n=this.encoder.encode(e);for(let t=0;t<n.length;t++)this.engine.write(n[t],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let n=this.backoff.duration();this._reconnecting=!0;let t=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&t.unref(),this.subs.push(()=>{this.clearTimeoutFn(t)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};var Vt={};function jt(i,e){typeof i=="object"&&(e=i,i=void 0),e=e||{};let n=$a(i,e.path||"/socket.io"),t=n.source,s=n.id,r=n.path,o=Vt[s]&&r in Vt[s].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o,c;return a?c=new tt(t,e):(Vt[s]||(Vt[s]=new tt(t,e)),c=Vt[s]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}Object.assign(jt,{Manager:tt,Socket:et,io:jt,connect:jt});var qa=(()=>{let e=class e{constructor(){this.uri="ws://localhost:3000",this.socket=jt(this.uri)}listen(t){return new it(s=>{this.socket.on(t,r=>{s.next(r)})})}emit(t,s){this.socket.emit(t,s)}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Hd=["messagesScrollBox"];function zd(i,e){if(i&1&&(ee(0,"div",8)(1,"div",9),Zt(2),q()()),i&2){let n=e.$implicit,t=e.index;rr(t%2===0?"message_box":"message_box_reverce"),ut(2),ar(n)}}var Ya=(()=>{let e=class e{constructor(t){this.webSocket=t,this.messages=[],this.form=new On({message:new ps("",An.required)}),this.webSocket.listen("message").subscribe(s=>{this.messages=s,setTimeout(()=>{this.messagesBoxScroll?.nativeElement.scrollTo(0,this.messagesBoxScroll?.nativeElement.scrollHeight)},100)})}send(){console.log("artur"),this.form.value.message&&this.webSocket.emit("message",this.form.value.message),this.form.reset(),this.messagesBoxScroll?.nativeElement.scrollTo(0,this.messagesBoxScroll?.nativeElement.scrollHeight)}};e.\u0275fac=function(s){return new(s||e)(C(qa))},e.\u0275cmp=ne({type:e,selectors:[["app-chat"]],viewQuery:function(s,r){if(s&1&&ii(Hd,5),s&2){let o;ni(o=si())&&(r.messagesBoxScroll=o.first)}},standalone:!0,features:[Se],decls:11,vars:2,consts:[[1,"main-div"],["appResizeHeight","",1,"messages_scroll_box"],["messagesScrollBox",""],["class","message_box",3,"class",4,"ngFor","ngForOf"],[1,"message_sending_panel"],[3,"formGroup","ngSubmit"],[1,"controllers_box"],["formControlName","message","placeholder","Send Your Message","name","message","type","text",1,"message_input"],[1,"message_box"],[1,"message"]],template:function(s,r){s&1&&(ee(0,"div",0)(1,"div",1,2),Qn(3,zd,3,3,"div",3),q(),ee(4,"div",4)(5,"form",5),Ce("ngSubmit",function(){return r.send()}),ee(6,"div",6)(7,"button")(8,"mat-icon"),Zt(9,"send"),q()()(),ce(10,"input",7),q()()()),s&2&&(ut(3),Yt("ngForOf",r.messages),ut(2),Yt("formGroup",r.form))},dependencies:[Xt,Po,xo,ma,fa,Nn,aa,ca,ms,gs,Dr],styles:[".main-div[_ngcontent-%COMP%]{background-image:url(/assets/images/backgrounds/chat-background.webp);height:100vh;box-shadow:inset #00000059 0 5px 15px;display:flex;align-items:center;flex-direction:column;padding:0 20px;position:relative}[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}.message[_ngcontent-%COMP%]{padding:10px 20px;border-radius:20px;background-image:linear-gradient(to left,#003399,#7100ff);color:#fff;font-weight:400;font-size:25px}.message_box[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:end;margin-top:20px}.message_box_reverce[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:start;margin-top:20px}.message_box_reverce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:10px 20px;border-radius:20px;background-image:linear-gradient(to left,#000000,#363636);color:#fff;font-weight:400}.message_sending_panel[_ngcontent-%COMP%]{position:fixed;bottom:20px;width:50%}.message_sending_panel[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:row-reverse}.message_input[_ngcontent-%COMP%]{margin:0 20px;border:none;outline:none;height:30px;font-size:30px;border-radius:30px;padding:10px 20px}.controllers_box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;padding:0 25px}button[_ngcontent-%COMP%]{padding:10px 20px 8px;border-radius:15px;border:none}button[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{color:#7100ff}.messages_scroll_box[_ngcontent-%COMP%]{width:80%;overflow-y:scroll;box-shadow:0 3px 5px #333}"]});let i=e;return i})();var Za=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=ne({type:e,selectors:[["app-header"]],standalone:!0,features:[Se],decls:4,vars:0,consts:[[1,"box"],["src","../../../assets/images/icons/side-icons/flash-thread-withe.png",1,"side-icon"],["placeholder","Search User","type","text",1,"search"]],template:function(s,r){s&1&&(ee(0,"header")(1,"div",0),ce(2,"img",1)(3,"input",2),q()())},styles:["header[_ngcontent-%COMP%]{background-image:linear-gradient(to left,var(--main-color1),var(--main-color2));width:400px}.box[_ngcontent-%COMP%]{padding:10px 23px;display:flex;align-items:center;justify-content:space-between}.side-icon[_ngcontent-%COMP%]{width:30px;height:30px}.search[_ngcontent-%COMP%]{border:none;outline:none;height:15px;width:50%;border-radius:7px;padding:10px;transition:.3s;box-shadow:#00000012 0 3px 6px,#00000021 0 3px 6px}.search[_ngcontent-%COMP%]:focus{box-shadow:#00000040 0 14px 28px,#00000038 0 10px 10px}"]});let i=e;return i})();var qg=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=ne({type:e,selectors:[["app-main"]],standalone:!0,features:[Se],decls:5,vars:0,consts:[[1,"container"],[2,"width","30%"],[2,"width","100%"]],template:function(s,r){s&1&&(ee(0,"div",0)(1,"div"),ce(2,"app-header",1)(3,"app-chat-lists",1),q(),ce(4,"app-chat",2),q())},dependencies:[lr,Ya,Za],styles:[".container[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:normal;align-items:center}"]});let i=e;return i})();export{sc as a,cc as b,Ff as c,Hc as d,Hf as e,qa as f,qg as g};
