import{a as B}from"./chunk-3U5XJFFI.js";import{C as W,D as Y,e as I,w as G,x as j}from"./chunk-JTFNDISO.js";import{Ab as T,Bb as A,Db as F,Ra as l,Sa as y,Xb as E,Yb as z,_a as _,bb as M,da as k,db as f,eb as h,fb as o,fc as V,gb as s,ha as x,hb as v,hc as O,ia as u,ic as R,jc as N,kb as C,lc as U,mc as q,nb as g,nc as w,ob as c,pc as P,qc as D,rc as H,sb as m,sc as L,tb as b,tc as $,uc as Q,yb as S}from"./chunk-LENDDSTQ.js";import"./chunk-JMZ7DUBM.js";var K=["messagesScrollBox"];function X(e,a){if(e&1){let r=C();o(0,"mat-icon",18),g("click",function(){x(r);let t=c(2).$implicit,i=c(2);return u(i.textToSpeech(t.message))}),m(1,"volume_up"),s()}}function Z(e,a){if(e&1){let r=C();o(0,"mat-icon",18),g("click",function(){x(r);let t=c(2).$implicit,i=c(2);return u(i.textToSpeech(t.message))}),m(1,"volume_off"),s()}}function ee(e,a){if(e&1){let r=C();o(0,"mat-icon"),m(1,"auto_awesome"),s(),o(2,"div",15)(3,"pre"),m(4),s(),o(5,"div",16)(6,"mat-icon",17),g("click",function(){x(r);let t=c().$implicit,i=c(2);return u(i.copyText(t.message))}),m(7),s(),f(8,X,2,0,"mat-icon")(9,Z,2,0),s()()}if(e&2){let r=c().$implicit,n=c(2);l(4),b(r.message),l(3),b(n.isCopied?"done":"content_copy"),l(1),h(8,n.isSpeark?9:8)}}function te(e,a){if(e&1&&(o(0,"p"),m(1),s()),e&2){let r=c().$implicit;l(1),b(r.message)}}function ne(e,a){if(e&1&&(o(0,"div",14),f(1,ee,10,3)(2,te,2,1),s()),e&2){let r=a.$implicit,n=c(2);M(n.thisUser.id!==r.sender?"message_box_reverce":"message_box"),l(1),h(1,n.thisUser.id!==r.sender?1:2)}}function ie(e,a){if(e&1&&(o(0,"div"),f(1,ne,3,3,"div",13),s()),e&2){let r=c();l(1),_("ngForOf",r.aiChatMessages)}}function oe(e,a){e&1&&(o(0,"div",19)(1,"mat-icon"),m(2,"auto_awesome"),s(),v(3,"img",20),s())}var ue=(()=>{let a=class a{constructor(n){this.reqService=n,this.isLoadedAiAnswer=!0,this.aiChatMessages=[],this.isCopied=!1,this.isSpeark=!1,this.token=localStorage.getItem("token"),this.form=new w({message:new P("",N.required)}),this.firstMessageForm=new w({message:new P("Hi!")}),this.innerWidth=innerWidth}ngOnInit(){let n={token:this.token};this.reqService.post(O.getUserByToken,n).subscribe(t=>{this.thisUser=t}),setTimeout(()=>{this.messagesBoxScroll&&(this.messagesBoxScroll.nativeElement.scrollTop=this.messagesBoxScroll.nativeElement.scrollHeight)},1e3)}textToSpeech(n){if(this.isSpeark=!this.isSpeark,this.isSpeark){let t=new SpeechSynthesisUtterance;t.text=n,t.lang="en-US",speechSynthesis.speak(t)}else speechSynthesis.pause()}copyText(n){this.isCopied=!0,navigator.clipboard.writeText(n)}send(){if(this.isCopied=!1,this.isSpeark=!1,this.isLoadedAiAnswer=!1,this.form.value.message){let n=new Date,t={message:this.form.value.message,sender:this.thisUser.id};this.aiChatMessages.push(t);let i={message:this.form.value.message,userToken:this.token};this.reqService.post(O.ai,i).subscribe(d=>{if(d.aiGeneratedMessage===""){let p=new Audio;p.src="assets/audios/notifiaction/error-call-to-attention-129258.mp3",p.load(),p.play()}else{let p=new Audio;p.src="assets/audios/notifiaction/bloop-2-186531.mp3",p.load(),p.play()}let J={message:d.aiGeneratedMessage==""?"try typing other text":d.aiGeneratedMessage,sender:"ai"};this.form.reset(),setTimeout(()=>{this.messagesBoxScroll?.nativeElement.scrollTo(0,this.messagesBoxScroll?.nativeElement.scrollHeight)},100),this.isLoadedAiAnswer=!0,this.aiChatMessages.push(J)})}this.form.reset(),setTimeout(()=>{this.messagesBoxScroll?.nativeElement.scrollTo(0,this.messagesBoxScroll?.nativeElement.scrollHeight)},100)}};a.\u0275fac=function(t){return new(t||a)(y(V))},a.\u0275cmp=k({type:a,selectors:[["app-flash-ai"]],viewQuery:function(t,i){if(t&1&&A(K,5),t&2){let d;T(d=F())&&(i.messagesBoxScroll=d.first)}},standalone:!0,features:[S],decls:21,vars:7,consts:[[1,"main-div"],[1,"lear"],["appResizeHeight","",1,"messages_scroll_box",3,"size"],["messagesScrollBox",""],[4,"ngIf"],["class","ai_loading"],[1,"selected_chat_user"],["routerLink","/chats-menu"],[1,"img_box"],[1,"message_sending_panel"],[3,"formGroup","ngSubmit"],["matInput","","formControlName","message","placeholder","Send Your Message to Ai","name","message","type","text",1,"message_input"],[1,"send_button",3,"disabled","click"],["style","font-size: 16px;","class","message",3,"class",4,"ngFor","ngForOf"],[1,"message",2,"font-size","16px"],[1,"animated-message"],[1,"message-tools-box"],[2,"margin-right","10px",3,"click"],[3,"click"],[1,"ai_loading"],["src","../../../assets/images/loading.gif"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2,3),f(4,ie,2,1,"div",4)(5,oe,4,0,"div",5),s(),o(6,"div",6)(7,"a",7)(8,"mat-icon"),m(9,"arrow_back"),s()(),o(10,"div",8)(11,"mat-icon"),m(12,"auto_awesome"),s(),o(13,"h3"),m(14,"Flash Ai"),s()()(),o(15,"div",9)(16,"form",10),g("ngSubmit",function(){return i.send()}),v(17,"input",11),o(18,"button",12),g("click",function(){return i.send()}),o(19,"mat-icon"),m(20,"auto_awesome"),s()()()()()()),t&2&&(l(2),_("size",170),l(2),_("ngIf",i.aiChatMessages!=null),l(1),h(5,i.isLoadedAiAnswer?-1:5),l(11),_("formGroup",i.form),l(2),_("disabled",i.form.invalid),l(1),M(i.form.valid?"send_button_icon-anim":""))},dependencies:[$,D,R,U,q,j,G,Y,W,E,z,Q,H,L,B,I],styles:[".main-div[_ngcontent-%COMP%]{background-repeat:no-repeat;background-color:#171717;background-size:cover;height:100vh;box-shadow:inset #00000059 0 5px 15px}.lear[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;flex-direction:column;padding:90px 20px 0;position:relative;backdrop-filter:blur(2px);-webkit-backdrop-filter:blur(2px);background-color:#0000001f}.message[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#0e0e0e;border-radius:30px;position:relative;display:flex;align-items:center;padding:10px 15px 13px;border:1px solid #ffffff26}.message[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > pre[_ngcontent-%COMP%]{background:linear-gradient(to left,#003aff,#ff00fb);-webkit-background-clip:text;-webkit-text-fill-color:transparent;-webkit-user-select:auto;user-select:auto;table-layout:fixed;display:table;color:#fff;font-weight:400;font-size:20px;font-family:Rubik Glitch,system-ui;align-items:center;position:relative;margin-left:10px;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.message[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding:10px 20px;border-radius:30px;background-image:linear-gradient(to left,#003399,#7100ff);color:#fff;font-weight:400;font-size:20px;font-family:Rubik Glitch,system-ui;display:flex;align-items:center;position:relative;margin-left:40px}.message[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px;margin-left:5px}.message_box[_ngcontent-%COMP%]{overflow-x:scroll;width:100%;display:flex;align-items:center;justify-content:end;margin-top:20px;-ms-overflow-style:none;scrollbar-width:none}.message_box[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.message_box_reverce[_ngcontent-%COMP%]{width:100%;overflow-x:scroll;position:relative;display:flex;align-items:flex-start;justify-content:start;flex-direction:column;margin-top:13px}.message_sending_panel[_ngcontent-%COMP%]{position:fixed;bottom:20px;width:50%}.message_sending_panel[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:row-reverse}.message_input[_ngcontent-%COMP%]{box-shadow:#00000059 0 5px 15px;background-color:#2a2a2a;display:block;border:none;outline:none;width:100%;height:30px;font-size:20px;border-radius:30px;padding:25px 60px 25px 30px;font-family:Rubik Glitch,system-ui;font-weight:bolder;color:#fff}.message_input[_ngcontent-%COMP%]::placeholder{color:#fff9}.controllers_box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;padding:0 25px}.send_button[_ngcontent-%COMP%]{width:40px;height:40px;border:none;position:absolute;right:6px;top:5px;border-radius:50%;background-color:#fff}.send_button[_ngcontent-%COMP%]:disabled{opacity:.3}.send_button[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{background:linear-gradient(to left,#003aff,#ff00fb);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.send_button_icon-anim[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_send_anim alternate-reverse .4s ease-in-out infinite}@keyframes _ngcontent-%COMP%_send_anim{0%{scale:.9}to{scale:1}}.messages_scroll_box[_ngcontent-%COMP%]{width:100%;overflow-y:scroll;padding-bottom:10px}.selected_chat_user[_ngcontent-%COMP%]{padding:15px 25px;background-color:#0a0a0a;position:absolute;left:0;top:0;width:100%;display:flex;align-items:center;justify-content:center;border-bottom:1px solid rgba(117,117,117,.42)}.selected_chat_user[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{margin-right:20px;display:none;width:25px}.selected_chat_user[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{color:#fff;display:block;font-size:25px}.selected_chat_user[_ngcontent-%COMP%] > .img_box[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.selected_chat_user[_ngcontent-%COMP%] > .img_box[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{background:linear-gradient(to left,#003aff,#ff00fb);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:25px;margin-left:20px}.selected_chat_user[_ngcontent-%COMP%] > .img_box[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{background:linear-gradient(to left,#003aff,#ff00fb);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:30px;width:30px;height:30px}.in-chat-user-avatar[_ngcontent-%COMP%]{width:30px;height:30px;object-fit:cover;border-radius:50%;display:block;position:absolute;left:-40px}.first_message_block[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-size:35px;color:#fff;margin-bottom:30px}.first_message_block[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}.first_message_block[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus{outline:5px solid #5c13a4}.first_message_block[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{font-size:35px;width:33px;height:31px;color:#fff;display:flex;align-items:center;justify-content:center}@media screen and (max-width: 940px){.messages_scroll_box[_ngcontent-%COMP%]{width:100%}.selected_chat_user[_ngcontent-%COMP%]{padding:10px}.selected_chat_user[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:block;position:absolute;left:16px}.message_sending_panel[_ngcontent-%COMP%]{width:92%}}@media screen and (max-width: 594px){.first_message_block[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:100%}.first_message_block[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:90%}.message_box[_ngcontent-%COMP%]{margin-top:5px}.message[_ngcontent-%COMP%] > pre[_ngcontent-%COMP%], .message[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:16px}.lear[_ngcontent-%COMP%]{padding:90px 16px 0}}@media screen and (max-width: 574px){.first_message_block[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-size:30px;text-align:center;max-width:90%}}.ai_loading[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:5px}.ai_loading[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{color:#fff}.ai_loading[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:130px;border-radius:20px}.animated-message[_ngcontent-%COMP%]{position:relative;animation:.2s _ngcontent-%COMP%_animatedmessage alternate ease-in-out}@keyframes _ngcontent-%COMP%_animatedmessage{0%{transform:translate(-700px)}to{transform:translate(0)}}.message-tools-box[_ngcontent-%COMP%]{position:absolute;right:20px;top:-30px}.message-tools-box[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{color:#898989}"]});let e=a;return e})();export{ue as FlashAiComponent};
