import{a as y,b as k,c as $}from"./chunk-YD6X2LS4.js";import{a as W,c as O}from"./chunk-UI32ECJD.js";import{A as P,C as o,D as a,E as h,F as I,G as R,H as j,I as d,J as z,M as U,N as c,O as v,Q as b,R as x,S as E,T as F,U as T,V as q,X as L,Z as H,aa as V,ba as M,ca as Q,ea as u,fa as S,g,j as w,k as D,ma as B,n as _,na as G,p as s,q as m,w as p,x as C,ya as N}from"./chunk-25Z6BRID.js";var Z=["search"],ee=r=>["/messenger/chat",r];function te(r,i){if(r&1){let f=j();I(0),o(1,"div",5),d("click",function(){let t=w(f).$implicit,l=z();return D(l.setChat(t.id))}),h(2,"img",6),o(3,"div",7)(4,"h2"),c(5),a(),o(6,"p"),c(7),a()()(),R()}if(r&2){let f=i.$implicit;s(1),p("routerLink",E(5,ee,f.id)),s(1),p("src",f.avatar,_)("alt","avatar "+f.name),s(3),v(f.name),s(2),v(f.bio)}}var J=(()=>{let i=class i{constructor(n,e,t){this.router=n,this.setChatService=e,this.reqService=t,this.searchData=[]}searchValue(){let n={name:this.input?.nativeElement.value.split("").filter(e=>e.trim().length).join("")};this.reqService.post(S.search,n).subscribe(e=>{this.searchData=e})}setChat(n){this.setChatService.setUserChat(n)}};i.\u0275fac=function(e){return new(e||i)(m(M),m(k),m(u))},i.\u0275cmp=g({type:i,selectors:[["app-chat-lists"]],viewQuery:function(e,t){if(e&1&&T(Z,5),e&2){let l;F(l=q())&&(t.input=l.first)}},standalone:!0,features:[b([u,k]),x],decls:5,vars:4,consts:[["appResizeHeight","",1,"main-div",3,"size"],[1,"box"],["placeholder","Search User","type","text",1,"search",3,"input"],["search",""],[4,"ngFor","ngForOf"],[1,"list",2,"margin-top","20px",3,"routerLink","click"],[3,"src","alt"],[2,"margin-left","20px"]],template:function(e,t){if(e&1&&(o(0,"div",0)(1,"div",1)(2,"input",2,3),d("input",function(){return t.searchValue()}),a()(),P(4,te,8,7,"ng-container",4),a()),e&2){let l=U(3);p("size",1),s(2),C("width",l.value!=""?"400px":"300px"),s(2),p("ngForOf",t.searchData)}},dependencies:[y,L,Q],styles:[".main-div[_ngcontent-%COMP%]{background-image:linear-gradient(to left,var(--main-color1),var(--main-color2));overflow-y:scroll;padding:20px;width:100%}.list[_ngcontent-%COMP%]{padding:10px;width:100%;background-color:#232323;border-radius:10px;display:flex;align-items:center}.list[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover;border-radius:50%}.list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#fff}header[_ngcontent-%COMP%]{background-image:linear-gradient(to left,var(--main-color1),var(--main-color2));width:400px}.box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.side-icon[_ngcontent-%COMP%]{width:30px;height:30px}.search[_ngcontent-%COMP%]{outline:none;color:#fff6;background-color:transparent;border:1px solid;height:15px;font-family:Rubik Glitch,system-ui;font-weight:bolder;border-radius:7px;padding:20px 15px;transition:.3s;box-shadow:#00000012 0 3px 6px,#00000021 0 3px 6px}.search[_ngcontent-%COMP%]:focus{box-shadow:#00000040 0 14px 28px,#00000038 0 10px 10px;border-color:#039}"]});let r=i;return r})();var K=(()=>{let i=class i{constructor(n){this.router=n}logout(){localStorage.removeItem("token"),this.router.navigate(["/login"])}};i.\u0275fac=function(e){return new(e||i)(m(M))},i.\u0275cmp=g({type:i,selectors:[["app-user-details"]],inputs:{userData:"userData"},standalone:!0,features:[x],decls:18,vars:3,consts:[["appResizeHeight","",1,"main-div",3,"size"],[1,"name"],[1,"email"],[1,"buttons_box"],["mat-button","",1,"profile"],[2,"font-size","20px"],["mat-button","",1,"profile",2,"margin-top","10px"],["color","warn","mat-button","",1,"profile",2,"margin-top","10px",3,"click"],["color","warn",2,"font-size","20px"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"h2",1),c(2),a(),o(3,"p",2),c(4),a(),o(5,"div",3)(6,"button",4),c(7," Profile "),o(8,"mat-icon",5),c(9,"person"),a()(),o(10,"button",6),c(11," Settings "),o(12,"mat-icon",5),c(13,"settings"),a()(),o(14,"button",7),d("click",function(){return t.logout()}),c(15," Logout "),o(16,"mat-icon",8),c(17,"logout"),a()()()()),e&2&&(p("size",200),s(2),v(t.userData.name),s(2),v(t.userData.email))},dependencies:[y,G,B,O,W],styles:["mat-icon[_ngcontent-%COMP%]{margin:0 0 2px 10px;display:flex;flex-direction:column}.main-div[_ngcontent-%COMP%]{width:300px;background-color:#2a2a2a;overflow-y:scroll;border-radius:20px;padding:20px}.name[_ngcontent-%COMP%]{color:#fff;font-size:20px}.email[_ngcontent-%COMP%]{max-width:250px;overflow:hidden;font-size:14px;color:#ffffff78;margin-top:5px;-webkit-user-select:text;user-select:text}.buttons_box[_ngcontent-%COMP%]{margin-top:20px}.profile[_ngcontent-%COMP%]{color:#fff;background-color:#fff;font-size:15px;width:100%;font-family:Rubik Glitch,system-ui;display:flex;align-items:center;justify-content:center}"]});let r=i;return r})();var Ie=(()=>{let i=class i{constructor(n,e){this.webSocket=n,this.reqService=e,this.isOpenedUserDetails=!1,this.token=localStorage.getItem("token"),this.userData={avatar:"./assets/images/load/load.jpg",name:"loading name...",email:"loading email...",bio:"loading biography...",l_name:"loading last name..."},this.webSocket.socket=this.webSocket.io(this.webSocket.uri,{auth:{token:this.webSocket.token}})}ngOnInit(){let n={token:this.token};this.reqService.post(S.getUser,n).subscribe(e=>{this.userData=e})}};i.\u0275fac=function(e){return new(e||i)(m($),m(u))},i.\u0275cmp=g({type:i,selectors:[["app-main"]],standalone:!0,features:[b([u]),x],decls:8,vars:11,consts:[[1,"container"],[2,"width","30%",3,"click"],[2,"width","100%",3,"click"],[1,"user_img_box",3,"click"],["alt","user image",3,"src","title"],[3,"userData"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"div")(2,"app-chat-lists",1),d("click",function(){return t.isOpenedUserDetails=!1}),a()(),o(3,"div",2),d("click",function(){return t.isOpenedUserDetails=!1}),h(4,"router-outlet"),a(),o(5,"div",3),d("click",function(){return t.isOpenedUserDetails=!t.isOpenedUserDetails}),h(6,"img",4),a(),h(7,"app-user-details",5),a()),e&2&&(s(6),p("src",t.userData.avatar,_)("title",t.userData.name),s(1),C("right",t.isOpenedUserDetails?"40px":"-7%")("top",t.isOpenedUserDetails?"90px":"-24%")("opacity",t.isOpenedUserDetails?"1":"0")("scale",t.isOpenedUserDetails?"1":"0"),p("userData",t.userData))},dependencies:[J,H,N,O,K,V],styles:[".container[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:normal;align-items:center}.user_img_box[_ngcontent-%COMP%]{width:65px;height:65px;background-color:#3d3d3d;position:absolute;top:20px;right:20px;border-radius:50%;overflow:hidden;display:flex;align-items:center;justify-content:center;padding:20px;transition:.2s}.user_img_box[_ngcontent-%COMP%]:active{scale:.95}.user_img_box[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover;border-radius:50%}app-user-details[_ngcontent-%COMP%]{position:absolute;top:100px;right:40px;transition:.2s}"]});let r=i;return r})();export{Ie as a};
