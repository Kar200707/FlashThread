import{a as T}from"./chunk-3U5XJFFI.js";import{C as Q,D as V,e as z,w as I,x as j}from"./chunk-JTFNDISO.js";import{Ab as k,Bb as y,Db as S,Ra as a,Sa as O,Xb as F,Yb as A,_a as g,bb as _,da as M,db as p,eb as f,fb as t,fc as E,gb as n,hb as u,hc as h,ic as B,jc as G,lc as R,mc as N,nb as x,nc as b,ob as m,pc as C,qc as q,rc as D,sb as l,sc as L,tb as v,tc as H,ub as P,uc as U,yb as w}from"./chunk-LENDDSTQ.js";import"./chunk-JMZ7DUBM.js";var W=["messagesScrollBox"];function Y(e,i){if(e&1&&(t(0,"pre")(1,"mat-icon"),l(2,"auto_awesome"),n(),l(3),n()),e&2){let c=m().$implicit;a(3),P(" ",c.message,"")}}function J(e,i){if(e&1&&(t(0,"p"),l(1),n()),e&2){let c=m().$implicit;a(1),v(c.message)}}function K(e,i){if(e&1&&(t(0,"div",14),p(1,Y,4,1,"pre")(2,J,2,1),n()),e&2){let c=i.$implicit,r=m(2);_(r.thisUser.id!==c.sender?"message_box_reverce":"message_box"),a(1),f(1,r.thisUser.id!==c.sender?1:2)}}function X(e,i){if(e&1&&(t(0,"div"),p(1,K,3,3,"div",13),n()),e&2){let c=m();a(1),g("ngForOf",c.aiChatMessages)}}function Z(e,i){e&1&&(t(0,"div",15)(1,"mat-icon"),l(2,"auto_awesome"),n(),u(3,"img",16),n())}var me=(()=>{let i=class i{constructor(r){this.reqService=r,this.isLoadedAiAnswer=!0,this.aiChatMessages=[],this.token=localStorage.getItem("token"),this.form=new b({message:new C("",G.required)}),this.firstMessageForm=new b({message:new C("Hi!")}),this.innerWidth=innerWidth}ngOnInit(){let r={token:this.token};this.reqService.post(h.getUserByToken,r).subscribe(o=>{this.thisUser=o}),setTimeout(()=>{this.messagesBoxScroll&&(this.messagesBoxScroll.nativeElement.scrollTop=this.messagesBoxScroll.nativeElement.scrollHeight)},1e3)}send(){if(this.isLoadedAiAnswer=!1,this.form.value.message){let r=new Date,o={message:this.form.value.message,sender:this.thisUser.id};this.aiChatMessages.push(o);let s={message:this.form.value.message,userToken:this.token};this.reqService.post(h.ai,s).subscribe(d=>{let $={message:d.aiGeneratedmessage,sender:"ai"};this.isLoadedAiAnswer=!0,this.aiChatMessages.push($)})}this.form.reset(),setTimeout(()=>{this.messagesBoxScroll?.nativeElement.scrollTo(0,this.messagesBoxScroll?.nativeElement.scrollHeight)},100)}};i.\u0275fac=function(o){return new(o||i)(O(E))},i.\u0275cmp=M({type:i,selectors:[["app-flash-ai"]],viewQuery:function(o,s){if(o&1&&y(W,5),o&2){let d;k(d=S())&&(s.messagesBoxScroll=d.first)}},standalone:!0,features:[w],decls:21,vars:7,consts:[[1,"main-div"],[1,"lear"],["appResizeHeight","",1,"messages_scroll_box",3,"size"],["messagesScrollBox",""],[4,"ngIf"],["class","ai_loading"],[1,"selected_chat_user"],["routerLink","/chats-menu"],[1,"img_box"],[1,"message_sending_panel"],[3,"formGroup","ngSubmit"],["matInput","","formControlName","message","placeholder","Send Your Message to Ai","name","message","type","text",1,"message_input"],[1,"send_button",3,"disabled","click"],["style","font-size: 16px;","class","message",3,"class",4,"ngFor","ngForOf"],[1,"message",2,"font-size","16px"],[1,"ai_loading"],["src","../../../assets/images/loading.gif"]],template:function(o,s){o&1&&(t(0,"div",0)(1,"div",1)(2,"div",2,3),p(4,X,2,1,"div",4)(5,Z,4,0,"div",5),n(),t(6,"div",6)(7,"a",7)(8,"mat-icon"),l(9,"arrow_back"),n()(),t(10,"div",8)(11,"mat-icon"),l(12,"auto_awesome"),n(),t(13,"h3"),l(14,"Flash Ai"),n()()(),t(15,"div",9)(16,"form",10),x("ngSubmit",function(){return s.send()}),u(17,"input",11),t(18,"button",12),x("click",function(){return s.send()}),t(19,"mat-icon"),l(20,"auto_awesome"),n()()()()()()),o&2&&(a(2),g("size",170),a(2),g("ngIf",s.aiChatMessages!=null),a(1),f(5,s.isLoadedAiAnswer?-1:5),a(11),g("formGroup",s.form),a(2),g("disabled",s.form.invalid),a(1),_(s.form.valid?"send_button_icon-anim":""))},dependencies:[H,q,B,R,N,j,I,V,Q,F,A,U,D,L,T,z],styles:[".main-div[_ngcontent-%COMP%]{background-image:url(/assets/images/backgrounds/chat-background.webp);background-repeat:no-repeat;background-size:cover;height:100vh;box-shadow:inset #00000059 0 5px 15px}.lear[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;flex-direction:column;padding:90px 20px 0;position:relative;backdrop-filter:blur(2px);-webkit-backdrop-filter:blur(2px);background-color:#0000001f}.message[_ngcontent-%COMP%] > pre[_ngcontent-%COMP%]{-webkit-user-select:auto;user-select:auto;padding:10px 20px;border-radius:30px;background-color:#2d2d2d;table-layout:fixed;display:table;color:#fff;font-weight:400;font-size:25px;font-family:Rubik Glitch,system-ui;align-items:center;position:relative;width:100%;margin-left:40px;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.message[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding:10px 20px;border-radius:30px;background-image:linear-gradient(to left,#003399,#7100ff);color:#fff;font-weight:400;font-size:25px;font-family:Rubik Glitch,system-ui;display:flex;align-items:center;position:relative;margin-left:40px}.message[_ngcontent-%COMP%] > pre[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{position:absolute;left:-35px;top:15px}.message_box[_ngcontent-%COMP%]{overflow-x:scroll;width:100%;display:flex;align-items:center;justify-content:end;margin-top:20px;-ms-overflow-style:none;scrollbar-width:none}.message_box[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.message_box_reverce[_ngcontent-%COMP%]{width:100%;overflow-x:scroll;position:relative;display:flex;align-items:center;justify-content:start;margin-top:13px}.message_sending_panel[_ngcontent-%COMP%]{position:fixed;bottom:20px;width:50%}.message_sending_panel[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:row-reverse}.message_input[_ngcontent-%COMP%]{box-shadow:#00000059 0 5px 15px;background-color:#2a2a2a;display:block;border:none;outline:none;width:100%;height:30px;font-size:20px;border-radius:30px;padding:25px 60px 25px 30px;font-family:Rubik Glitch,system-ui;font-weight:bolder;color:#fff}.message_input[_ngcontent-%COMP%]::placeholder{color:#fff9}.controllers_box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;padding:0 25px}.send_button[_ngcontent-%COMP%]{width:40px;height:40px;border:none;position:absolute;right:6px;top:5px;border-radius:50%;background-color:#fff}.send_button[_ngcontent-%COMP%]:disabled{opacity:.3}.send_button[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{background:linear-gradient(to left,#003aff,#ff00fb);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.send_button_icon-anim[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_send_anim alternate-reverse .4s ease-in-out infinite}@keyframes _ngcontent-%COMP%_send_anim{0%{scale:.9}to{scale:1}}.messages_scroll_box[_ngcontent-%COMP%]{width:90%;overflow-y:scroll;padding-bottom:10px}.selected_chat_user[_ngcontent-%COMP%]{padding:15px 25px;background-color:#2a2a2a;position:absolute;left:0;top:0;width:100%;display:flex;align-items:center;justify-content:center;border-bottom:1px solid rgba(117,117,117,.42)}.selected_chat_user[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{margin-right:20px;display:none;width:25px}.selected_chat_user[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{color:#fff;display:block;font-size:25px}.selected_chat_user[_ngcontent-%COMP%] > .img_box[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.selected_chat_user[_ngcontent-%COMP%] > .img_box[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{background:linear-gradient(to left,#003aff,#ff00fb);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:30px;margin-left:20px}.selected_chat_user[_ngcontent-%COMP%] > .img_box[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{background:linear-gradient(to left,#003aff,#ff00fb);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:40px;width:40px;height:40px}.in-chat-user-avatar[_ngcontent-%COMP%]{width:30px;height:30px;object-fit:cover;border-radius:50%;display:block;position:absolute;left:-40px}.first_message_block[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-size:35px;color:#fff;margin-bottom:30px}.first_message_block[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}.first_message_block[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus{outline:5px solid #5c13a4}.first_message_block[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{font-size:35px;width:33px;height:31px;color:#fff;display:flex;align-items:center;justify-content:center}@media screen and (max-width: 940px){.messages_scroll_box[_ngcontent-%COMP%]{width:100%}.selected_chat_user[_ngcontent-%COMP%]{padding:10px}.selected_chat_user[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:block;position:absolute;left:16px}.message_sending_panel[_ngcontent-%COMP%]{width:92%}}@media screen and (max-width: 594px){.first_message_block[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:100%}.first_message_block[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:90%}.message_box[_ngcontent-%COMP%]{margin-top:5px}.message[_ngcontent-%COMP%] > pre[_ngcontent-%COMP%], .message[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:20px}.lear[_ngcontent-%COMP%]{padding:90px 16px 0}}@media screen and (max-width: 574px){.first_message_block[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-size:30px;text-align:center;max-width:90%}}.ai_loading[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:5px}.ai_loading[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{color:#fff}.ai_loading[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:130px;border-radius:20px}"]});let e=i;return e})();export{me as FlashAiComponent};
