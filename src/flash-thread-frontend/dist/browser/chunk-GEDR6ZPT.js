import{a as Xe,b as tt}from"./chunk-PEOY24SD.js";import{a as it}from"./chunk-NCLFH5L2.js";import{i as rt,j as ot,k as re,l as I,m as P,n as oe,o as st}from"./chunk-LCP4AOTT.js";import{a as Ke}from"./chunk-3U5XJFFI.js";import{a as at}from"./chunk-66LW3IYX.js";import{c as Je}from"./chunk-WZCWJEY5.js";import{D as nt,c as We,e as Ge,f as He,w as Qe,x as Ye}from"./chunk-JTFNDISO.js";import{$ as b,$a as Ne,Ab as Le,Bb as Ve,C as Te,Db as ze,F as Fe,Fb as $e,Gb as me,Ka as ee,Kb as Ue,Nb as he,P as De,Ra as c,S as _,Sa as E,T as ue,V as Re,Wa as x,X as j,Xb as Be,Y as N,Yb as qe,_a as d,aa as u,c as R,da as J,db as y,ea as L,eb as V,ec as Ze,fb as l,fc as O,g as Ae,gb as p,h as Oe,hb as k,hc as C,i as Ce,ib as de,j as Ie,jb as ge,k as m,l as h,la as w,n as Y,nb as z,ob as S,r as Pe,ra as X,rb as te,sb as A,t as we,tb as W,uc as et,v as Ee,va as Z,vb as ne,ya as je,yb as ie,zb as fe}from"./chunk-LENDDSTQ.js";import{d as Se}from"./chunk-JMZ7DUBM.js";var St=["search"];function At(e,t){if(e&1&&k(0,"app-user-details",4),e&2){let n=S();d("size",98)("userData",n.userData)}}function Ot(e,t){e&1&&(l(0,"div",14)(1,"div",15),k(2,"div",16)(3,"div",17),p()())}var ct=e=>["/messenger/chat",e];function Ct(e,t){if(e&1&&(l(0,"div",19),k(1,"img",20),l(2,"div",21)(3,"h2"),A(4),p(),l(5,"p"),A(6),p()()()),e&2){let n=S().$implicit;d("routerLink",fe(5,ct,n.id)),c(1),d("src",n.avatar,ee)("alt","avatar "+n.name),c(3),W(n.name),c(2),W(n.bio)}}function It(e,t){if(e&1&&(de(0),y(1,Ct,7,7,"div",18),ge()),e&2){let n=t.$implicit,i=S(2);c(1),d("ngIf",i.tokenUser.id!==n.id)}}function Pt(e,t){if(e&1&&(l(0,"div",12),y(1,Ot,4,0,"div",13)(2,It,2,1,"ng-container",11),p()),e&2){let n=S(),i=te(7);c(1),V(1,n.searchData.length==0&&i.value!=""?1:-1),c(1),d("ngForOf",n.searchData)}}function wt(e,t){if(e&1&&(l(0,"div",23),k(1,"img",24),l(2,"div")(3,"h3"),A(4),p(),l(5,"p"),A(6),p()()()),e&2){let n=S(),i=n.$implicit,r=n.index,o=S();d("routerLink",fe(4,ct,i.id)),c(1),d("src",i.avatar,ee),c(3),W(i.name),c(2),W(o.chatsData[r].messages[o.chatsData[r].messages.length-1].message)}}function Et(e,t){if(e&1&&(de(0),y(1,wt,7,6,"div",22),ge()),e&2){let n=t.$implicit;c(1),d("ngIf",n!=null)}}var lt=(()=>{let t=class t{constructor(i){this.reqService=i,this.isOpenedSearchBlock=!1,this.chatsData=[],this.token=localStorage.getItem("token"),this.isOpenedUserDetails=!1,this.userData={avatar:"./assets/images/load/load.jpg",name:"loading name...",email:"loading email...",bio:"loading biography...",l_name:"loading last name..."},this.searchData=[],this.chatUsersData=[]}ngOnInit(){let i={token:this.token};this.chat.addEventListener("click",()=>{this.isOpenedSearchBlock=!1}),this.reqService.post(C.getUserByToken,i).subscribe(r=>{this.tokenUser=r,this.userData=r}),this.reqService.post(C.getActiveChats,i).subscribe(r=>{r.forEach(o=>{o&&this.chatsData.push(o)}),r.forEach((o,s)=>{o&&o.usersId.forEach(a=>{if(this.userData.id!=a){let f={id:a,token:this.token};this.reqService.post(C.getUserById,f).subscribe(M=>{this.chatUsersData.push(M)})}})})})}searchValue(){let i={name:this.input?.nativeElement.value.split("").filter(r=>r.trim().length).join("")};this.reqService.post(C.search,i).subscribe(r=>{this.searchData=r})}};t.\u0275fac=function(r){return new(r||t)(E(O))},t.\u0275cmp=J({type:t,selectors:[["app-chat-lists"]],viewQuery:function(r,o){if(r&1&&Ve(St,5),r&2){let s;Le(s=ze())&&(o.input=s.first)}},inputs:{chat:"chat"},standalone:!0,features:[ne([O]),ie],decls:19,vars:8,consts:[["appResizeHeight","",1,"main-div",3,"size"],[1,"box"],[1,"user_img_box",3,"click"],["alt","user image",3,"src","title"],["appResizeHeight","",3,"size","userData"],[1,"search_box",3,"mouseleave","click"],["placeholder","Search User","type","text",1,"search",3,"focus","input"],["search",""],["class","search_list_block"],[1,"chat_block"],["routerLinkActive","active-chat","routerLink","ai",1,"ai_chat"],[4,"ngFor","ngForOf"],[1,"search_list_block"],["class","loading_list"],[1,"loading_list"],[1,"list",2,"margin-top","20px"],[2,"width","50px","height","50px","border-radius","50%","background-color","#2a2a2a"],[2,"margin-left","20px","width","70%","height","20px","border-radius","5px","background-color","#2a2a2a"],["style","margin-top: 20px","class","list",3,"routerLink",4,"ngIf"],[1,"list",2,"margin-top","20px",3,"routerLink"],[3,"src","alt"],[2,"margin-left","20px"],["routerLinkActive","active-chat","class","chat",3,"routerLink",4,"ngIf"],["routerLinkActive","active-chat",1,"chat",3,"routerLink"],["alt","chat",3,"src"]],template:function(r,o){r&1&&(l(0,"div",0)(1,"div",1)(2,"div",2),z("click",function(){return o.isOpenedUserDetails=!o.isOpenedUserDetails}),k(3,"img",3),p(),y(4,At,1,2,"app-user-details",4),l(5,"div",5),z("mouseleave",function(){return o.isOpenedSearchBlock=!1})("click",function(){return o.isOpenedSearchBlock=!0}),l(6,"input",6,7),z("focus",function(){return o.isOpenedSearchBlock=!0})("input",function(){return o.searchValue()}),p(),y(8,Pt,3,2,"div",8),p()(),l(9,"div",9)(10,"div",10)(11,"mat-icon"),A(12,"auto_awesome"),p(),l(13,"div")(14,"h3"),A(15,"Flash Ai"),p(),l(16,"p"),A(17,"Ai"),p()()(),y(18,Et,2,1,"ng-container",11),p()()),r&2&&(d("size",1),c(3),d("src",o.userData.avatar,ee)("title",o.userData.name),c(1),V(4,o.isOpenedUserDetails?4:-1),c(2),Ne("width",o.isOpenedSearchBlock?"400px":"300px"),c(2),V(8,o.isOpenedSearchBlock?8:-1),c(10),d("ngForOf",o.chatUsersData))},dependencies:[Ke,Be,qe,Ge,Xe,tt,nt,He,Ye,Qe],styles:['.main-div[_ngcontent-%COMP%]{background-image:linear-gradient(to left,rgba(152,46,131,.11),rgba(0,51,153,.1));overflow-y:scroll;background-color:#0e0e0e;padding:20px;width:100%;position:relative}.list[_ngcontent-%COMP%]{padding:10px;background-color:#3d3d3d;border-radius:10px;display:flex;align-items:center;border:1px solid rgba(255,255,255,.13)}.search_list_block[_ngcontent-%COMP%]{width:100%;padding:0 20px 20px;box-shadow:#00000012 0 3px 6px,#00000021 0 3px 6px;position:absolute;top:35px;background-color:#232323;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.list[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover;border-radius:50%}.list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#fff}.box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.side-icon[_ngcontent-%COMP%]{width:30px;height:30px}.search[_ngcontent-%COMP%]{outline:none;color:#fff6;background-color:transparent;border:1px solid;height:15px;font-family:Rubik Glitch,system-ui;font-weight:bolder;border-radius:20px;padding:20px 15px;transition:.3s;box-shadow:#00000012 0 3px 6px,#00000021 0 3px 6px}.search[_ngcontent-%COMP%]:focus{box-shadow:#00000040 0 14px 28px,#00000038 0 10px 10px;border-color:#039}app-user-details[_ngcontent-%COMP%]{position:absolute;top:95px;left:0;width:100%;transition:.2s;border-top-right-radius:10px;border-bottom-right-radius:10px;overflow:hidden;z-index:999}.user_img_box[_ngcontent-%COMP%]{width:45px;height:45px;margin-right:10px;background-color:#3d3d3d;top:20px;right:20px;border-radius:50%;overflow:hidden;display:flex;align-items:center;justify-content:center;padding:20px;transition:.2s}.user_img_box[_ngcontent-%COMP%]:active{scale:.95}.user_img_box[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:35px;height:35px;object-fit:cover;border-radius:50%}.chat_block[_ngcontent-%COMP%]{margin-top:30px;padding-top:20px;border-top:1px solid rgba(255,255,255,.2)}.chat_block[_ngcontent-%COMP%] > .ai_chat[_ngcontent-%COMP%]{width:100%;padding:10px;background:rgba(42,42,42,.59);border-radius:10px;margin-bottom:15px;fill:#fff;display:flex;align-items:center;border:1px solid rgba(255,255,255,.06);transition:.2s scale;outline:none}.chat_block[_ngcontent-%COMP%] > .ai_chat[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{color:#003aff;width:40px;height:40px;font-size:40px;background:linear-gradient(to left,#003aff,#ff00fb);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.chat_block[_ngcontent-%COMP%] > .ai_chat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{color:#fff;font-family:Rubik Glitch,system-ui;font-size:25px;margin-left:20px;background:linear-gradient(to left,#003aff,#ff00fb);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.chat_block[_ngcontent-%COMP%] > .ai_chat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#ffffff7d;margin-left:20px}.chat_block[_ngcontent-%COMP%] > .chat[_ngcontent-%COMP%]{width:100%;padding:10px;background:rgba(42,42,42,.59);border-radius:10px;margin-bottom:15px;fill:#fff;display:flex;align-items:center;border:1px solid rgba(255,255,255,.06);transition:.2s scale;outline:none}.active-chat.active-chat.active-chat[_ngcontent-%COMP%]{background:rgb(68,68,68);border:1px solid rgba(255,255,255,.28);scale:1.02}.active-chat.active-chat.active-chat[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;width:30px;height:30px;background-color:#444;border-top-right-radius:6px;rotate:45deg;right:-10px}.chat_block[_ngcontent-%COMP%] > .chat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:15px}.chat_block[_ngcontent-%COMP%] > .chat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{color:#fff;font-family:Rubik Glitch,system-ui;font-size:25px}.chat_block[_ngcontent-%COMP%] > .chat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#ffffff7d}.chat_block[_ngcontent-%COMP%] > .chat[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:55px;height:55px;object-fit:cover;border-radius:50%;display:block}.search_box[_ngcontent-%COMP%]{position:relative}']});let e=t;return e})();var Tt="firebase",Ft="10.7.2";I(Tt,Ft,"app");var F=new $e("ANGULARFIRE2_VERSION"),pt=e=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this
context. Rather than injecting ${e} in the constructor, first ensure that ${e} is supported by calling
\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${e})\`.`;function ut(e,t,n){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var dt=(e,t)=>{let n=t?[t]:re(),i=[];return n.forEach(r=>{r.container.getProvider(e).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i};function U(){}var se=class{zone;delegate;constructor(t,n=Ce){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{t.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},ve=class{zone;task=null;constructor(t){this.zone=t}call(t,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",U,{},U,U)),n.pipe(Re({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},B=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new se(Zone.current)),this.insideAngular=n.run(()=>new se(Zone.current,Oe)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||e)(u(x))};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ae(){let e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return e}function Dt(e){return ae().ngZone.runOutsideAngular(()=>e())}function T(e){return ae().ngZone.run(()=>e())}function Rt(e){return jt(ae())(e)}function jt(e){return function(n){return n=n.lift(new ve(e.ngZone)),n.pipe(h(e.outsideAngular),m(e.insideAngular))}}var Nt=(e,t)=>function(){let i=arguments;return t&&setTimeout(()=>{t.state==="scheduled"&&t.invoke()},10),T(()=>e.apply(void 0,i))},ce=(e,t)=>function(){let n,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(t&&(n||=T(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",U,{},U,U))),i[o]=Nt(i[o],n));let r=Dt(()=>e.apply(this,i));if(!t)if(r instanceof R){let o=ae();return r.pipe(h(o.outsideAngular),m(o.insideAngular))}else return T(()=>r);return r instanceof R?r.pipe(Rt):r instanceof Promise?T(()=>new Promise((o,s)=>r.then(a=>T(()=>o(a)),a=>T(()=>s(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:T(()=>r)};var Vt="firebase",zt="10.7.2";P.registerVersion(Vt,zt,"app-compat");var $t=["ngOnDestroy"],ft=(e,t,n,i={})=>new Proxy(e,{get:(r,o)=>n.runOutsideAngular(()=>{if(e[o])return i?.spy?.get&&i.spy.get(o,e[o]),e[o];if($t.indexOf(o)>-1)return()=>{};let s=t.toPromise().then(a=>{let f=a?.[o];return typeof f=="function"?f.bind(a):f?.then?f.then(M=>n.run(()=>M)):n.run(()=>f)});return new Proxy(()=>{},{get:(a,f)=>s[f],apply:(a,f,M)=>s.then(v=>{let Q=v?.(...M);return i?.spy?.apply&&i.spy.apply(o,M,Q),Q})})})});var _e=class{constructor(t){return t}},mt=new b("angularfire2.app.options"),ht=new b("angularfire2.app.name");function vt(e,t,n){let i=typeof n=="string"&&n||"[DEFAULT]",r=typeof n=="object"&&n||{};r.name=r.name||i;let s=P.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>P.initializeApp(e,r));try{if(JSON.stringify(e)!==JSON.stringify(s.options)){let a=!!module.hot;Ut("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new _e(s)}var Ut=(e,...t)=>{he()&&typeof console<"u"&&console[e](...t)};function _t(e,t,n,i,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===e)||[];if(o)return Bt(r,s)||(gt("error",`${t} was already initialized on the ${n} Firebase App with different settings.${qt?" You may need to reload as Firebase is not HMR aware.":""}`),gt("warn",{is:r,was:s})),o;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([e,a,r]),a}}function Bt(e,t){try{return e.toString()===t.toString()}catch{return e===t}}var qt=typeof module<"u"&&!!module.hot,gt=(e,...t)=>{he()&&typeof console<"u"&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||=[];var Zt=new b("angularfire2.messaging.vapid-key"),Wt=new b("angularfire2.messaging.service-worker-registeration"),G=(()=>{class e{requestPermission;getToken;tokenChanges;messages;requestToken;deleteToken;constructor(n,i,r,o,s,a,f){let M=f,v=Y(void 0).pipe(h(s.outsideAngular),m(s.insideAngular),_(oe),_(g=>g?import("./chunk-WSNBO2U2.js"):Ie),Pe(()=>vt(n,o,i)),_(g=>_t(`${g.name}.messaging`,"AngularFireMessaging",g.name,()=>Y(g.messaging()),[])),De({bufferSize:1,refCount:!1}));this.requestPermission=v.pipe(h(s.outsideAngular),m(s.insideAngular),_(()=>Notification.requestPermission())),this.getToken=v.pipe(h(s.outsideAngular),m(s.insideAngular),_(g=>Se(this,null,function*(){if(Notification.permission==="granted"){let q=M?yield M:null;return yield g.getToken({vapidKey:a,serviceWorkerRegistration:q})}else return null})));let Q=new R(g=>{navigator.permissions.query({name:"notifications"}).then(q=>{q.onchange=()=>g.next()})}),yt=v.pipe(h(s.outsideAngular),m(s.insideAngular),ue(Q),ue(this.getToken));return this.tokenChanges=v.pipe(h(s.outsideAngular),m(s.insideAngular),_(()=>Ee(this.getToken,yt))),this.messages=v.pipe(h(s.outsideAngular),m(s.insideAngular),_(g=>new R(q=>g.onMessage(q)))),this.requestToken=v.pipe(h(s.outsideAngular),m(s.insideAngular),_(()=>this.requestPermission),Te(()=>Y(null)),we(()=>this.tokenChanges)),this.deleteToken=()=>v.pipe(h(s.outsideAngular),m(s.insideAngular),_(g=>g.deleteToken()),Fe(!1)),ft(this,v,o)}static \u0275fac=function(i){return new(i||e)(u(mt),u(ht,8),u(Z),u(x),u(B),u(Zt,8),u(Wt,8))};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),bt=(()=>{class e{constructor(){P.registerVersion("angularfire",F.full,"fcm-compat")}static \u0275fac=function(i){return new(i||e)};static \u0275mod=L({type:e});static \u0275inj=N({providers:[G]})}return e})();var le=(()=>{let t=class t{constructor(i){this.angularFireMessaging=i,this.currentMessage=new Ae(null),this.callRequestPermission=this.angularFireMessaging.requestToken,this.angularFireMessaging.messages.subscribe(r=>{r.onMessage=r.onMessage.bind(r),r.onTokenRefresh=r.onTokenRefresh.bind(r)})}receiveMessage(){this.angularFireMessaging.messages.subscribe(i=>{console.log("new message received. ",i),this.currentMessage.next(i)})}};t.\u0275fac=function(r){return new(r||t)(u(G))},t.\u0275prov=j({token:t,factory:t.\u0275fac});let e=t;return e})();var D=class{constructor(t){return t}},H=class{constructor(){return re()}};function Kt(e){return e&&e.length===1?e[0]:new D(ot())}var be=new b("angularfire2._apps"),Qt={provide:D,useFactory:Kt,deps:[[new w,be]]},Yt={provide:H,deps:[[new w,be]]};function Jt(e){return(t,n)=>{let i=t.runOutsideAngular(()=>e(n));return new D(i)}}var Xt=(()=>{class e{constructor(n){I("angularfire",F.full,"core"),I("angularfire",F.full,"app"),I("angular",me.full,n.toString())}static \u0275fac=function(i){return new(i||e)(u(Z))};static \u0275mod=L({type:e});static \u0275inj=N({providers:[Qt,Yt]})}return e})();function ii(e,...t){return{ngModule:Xt,providers:[{provide:be,useFactory:Jt(e),multi:!0,deps:[x,X,B,...t]}]}}var ri=ce(rt,!0);var K=class{constructor(t){return t}},Mt="messaging",Me=class{constructor(){return dt(Mt)}};var xt="__angularfire_symbol__messagingIsSupported",xe="__angularfire_symbol__messagingIsSupportedValue";globalThis[xt]||=oe().then(e=>globalThis[xe]=e).catch(()=>globalThis[xe]=!1);var pe={async:()=>globalThis[xt],sync:()=>{let e=globalThis[xe];if(e===void 0)throw new Error(pt("Messaging"));return e}},ye=new b("angularfire2.messaging-instances");function en(e,t){if(!pe.sync())return null;let n=ut(Mt,e,t);return n&&new K(n)}function tn(e){return(t,n)=>{if(!pe.sync())return null;let i=t.runOutsideAngular(()=>e(n));return new K(i)}}var nn={provide:Me,deps:[[new w,ye]]},rn={provide:K,useFactory:en,deps:[[new w,ye],D]},ke=(()=>{class e{constructor(){I("angularfire",F.full,"fcm")}static \u0275fac=function(i){return new(i||e)};static \u0275mod=L({type:e});static \u0275inj=N({providers:[rn,nn,{provide:Ue,useValue:pe.async,multi:!0}]})}return e})();function hi(e,...t){return{ngModule:ke,providers:[{provide:ye,useFactory:tn(e),multi:!0,deps:[x,X,B,H,...t]}]}}var vi=pe.async;var _i=ce(st,!0);function on(e,t){if(e&1&&(l(0,"div"),k(1,"app-chat-lists",3),p()),e&2){S();let n=te(3);c(1),d("chat",n)}}var Vi=(()=>{let t=class t{resize(){this.windowSize=innerWidth}constructor(i,r,o,s){this.setMobileThemes=i,this.messagingService=r,this.webSocket=o,this.reqService=s,this.windowSize=innerWidth,this.token=localStorage.getItem("token"),this.userData={avatar:"./assets/images/load/load.jpg",name:"loading name...",email:"loading email...",bio:"loading biography...",l_name:"loading last name..."},this.innerWidth=innerWidth,this.setMobileThemes.setStatusBarStyle("#171717").then().catch(a=>{}),this.webSocket.socket=this.webSocket.io(this.webSocket.uri,{auth:{token:this.webSocket.token}})}ngOnInit(){this.messagingService.callRequestPermission.subscribe(r=>{r&&this.token&&this.reqService.put(C.userEdit,{device:r,token:this.token}).subscribe(()=>{})});let i={token:this.token};this.reqService.post(C.getUser,i).subscribe(r=>{this.userData=r})}};t.\u0275fac=function(r){return new(r||t)(E(at),E(le),E(it),E(O))},t.\u0275cmp=J({type:t,selectors:[["app-main"]],hostBindings:function(r,o){r&1&&z("resize",function(){return o.resize()},!1,je)},standalone:!0,features:[ne([O,le,G]),ie],decls:5,vars:1,consts:[[1,"container"],[2,"width","100%"],["chatBlock",""],[2,"width","30%",3,"chat"]],template:function(r,o){r&1&&(l(0,"div",0),y(1,on,2,1,"div"),l(2,"div",1,2),k(4,"router-outlet"),p()()),r&2&&(c(1),V(1,o.windowSize>940?1:-1))},dependencies:[lt,Ze,et,Je,We,bt,ke],styles:[".container[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:normal;align-items:center}"]});let e=t;return e})();export{mt as a,G as b,bt as c,le as d,ii as e,ri as f,ke as g,hi as h,_i as i,Vi as j};
